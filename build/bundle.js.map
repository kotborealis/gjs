{"version":3,"sources":["webpack:///webpack/bootstrap 2177946c8c6437932054","webpack:///./main.js","webpack:///./Gjs.js","webpack:///./utils.js","webpack:///./CanvasManager.js","webpack:///./Camera.js","webpack:///./Graph.js","webpack:///./algorithms.js","webpack:///./algorithms/bfs.js","webpack:///./algorithms/dijkstra.js","webpack:///./ui.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACtCA,KAAM,MAAM,oBAAQ,CAAR,CAAZ;AACA,KAAM,MAAM,oBAAQ,CAAR,CAAZ;AACA,KAAM,MAAM,IAAI,GAAJ,CAAQ,SAAR,CAAZ;AACA,KAAI,YAAJ,CAAiB,mBAAjB;AACA,KAAI,GAAJ,E;;;;;;;;ACJA,QAAO,OAAP,GAAiB,UAAS,MAAT,EAAgB;AAAA;;AAC7B,SAAM,QAAQ,oBAAQ,CAAR,CAAd;AACA,SAAM,gBAAgB,oBAAQ,CAAR,CAAtB;AACA,SAAM,SAAS,oBAAQ,CAAR,CAAf;AACA,SAAM,QAAQ,oBAAQ,CAAR,CAAd;AACA,SAAM,MAAM,oBAAQ,CAAR,CAAZ;AACA,SAAM,IAAI,IAAI,KAAJ,EAAV;AACA,SAAM,gBAAgB,IAAI,aAAJ,CAAkB,MAAlB,CAAtB;AACA,SAAM,SAAS,IAAI,MAAJ,CAAW,aAAX,EAAyB,CAAzB,CAAf;AACA,UAAK,CAAL,GAAO,CAAP;AACA,SAAI,cAAY,IAAhB;AACA,SAAI,kBAAgB,EAApB;AACA,SAAI,kBAAgB,EAApB;AACA,SAAI,aAAW,IAAf;AACA,SAAI,mBAAiB,IAArB;AACA,SAAI,mBAAiB,EAArB;;AAEA,SAAM,gBAAc,EAApB;AACA,mBAAc,KAAd,GAAoB,EAApB;AACA,mBAAc,KAAd,GAAoB,EAApB;;;AAGA,UAAK,YAAL,GAAoB,UAAC,IAAD,EAAQ;AACxB,eAAM,gBAAN,CAAuB,IAAvB,EAA4B,UAAC,IAAD,EAAQ;AAChC;AACA,gCAAiB,EAAjB;AACA,0BAAW,IAAX;AACA,gCAAiB,IAAjB;AACA,2BAAY,IAAZ;AACA,+BAAgB,EAAhB;AACA,+BAAgB,EAAhB;AACA,2BAAc,KAAd,GAAoB,EAApB;AACA,2BAAc,KAAd,GAAoB,EAApB;AACA,eAAE,KAAF;AACA,iBAAG,KAAK,cAAL,CAAoB,OAApB,KAAgC,KAAK,cAAL,CAAoB,OAApB,CAAnC,EAAgE;AAC5D,mBAAE,OAAF,CAAU,KAAK,KAAf;AACA,mBAAE,OAAF,CAAU,KAAK,KAAf;AACH;AACJ,UAfD;AAgBH,MAjBD;;AAmBA,SAAM,mBAAmB,SAAnB,gBAAmB,CAAC,EAAD,EAAM;AAC3B,aAAG,OAAK,IAAR,EAAa;AACb,0BAAiB,IAAjB,CAAsB,EAAtB;AACA,aAAG,iBAAiB,MAAjB,KAA0B,CAA7B,EAA+B;AAC3B,iBAAG,iBAAiB,CAAjB,MAAsB,iBAAiB,CAAjB,CAAzB,EAA8C;AAC1C;AACA,qBAAM,QAAQ,IAAI,MAAK,kBAAT,EAA6B,CAA7B,EAA+B,iBAAiB,CAAjB,CAA/B,EAAoD,iBAAiB,CAAjB,CAApD,CAAd;AACA,sBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,MAAM,MAA1B,EAAkC,GAAlC,EAAuC;AACnC,yBAAM,OAAO,MAAM,CAAN,CAAb;AACA,iCAAY,IAAZ,EAAkB,OAAlB,EAA2B,IAA3B;AACA,yBAAI,IAAI,MAAM,MAAN,GAAe,CAAvB,EAA0B;AACtB,6BAAM,OAAO,EAAE,aAAF,CAAgB,IAAhB,EAAsB,MAAM,IAAI,CAAV,CAAtB,CAAb;AACA,qCAAY,IAAZ,EAAkB,OAAlB,EAA2B,IAA3B;AACH;AACJ;AACD,6BAAY,MAAM,CAAN,CAAZ,EAAsB,SAAtB,EAAiC,IAAjC;AACA,6BAAY,MAAM,MAAM,MAAN,GAAe,CAArB,CAAZ,EAAqC,SAArC,EAAgD,IAAhD;AACH;AACD,gCAAiB,EAAjB;AACH,UAhBD,MAiBK,IAAG,iBAAiB,MAAjB,GAAwB,CAA3B,EAA6B;AAC9B,gCAAiB,EAAjB;AACH;AACJ,MAvBD;;AAyBA,SAAM,iBAAiB,SAAjB,cAAiB,GAAU;AAC7B,aAAM,SAAO,IAAI,QAAJ,CAAa,CAAb,CAAb;AACA,aAAI,aAAW,OAAO,iBAAtB;AACA,aAAI,QAAM,CAAC,CAAX;AACA,cAAI,IAAI,IAAE,CAAV,EAAY,IAAE,OAAO,MAArB,EAA4B,GAA5B,EAAgC;AAC5B,iBAAG,OAAO,CAAP,EAAU,MAAV,GAAiB,UAApB,EAA+B;AAC3B,8BAAW,OAAO,CAAP,EAAU,MAArB;AACA,yBAAM,CAAN;AACH;AACJ;AACD,aAAG,UAAQ,CAAC,CAAZ,EAAc;;AAEd,cAAI,IAAI,KAAE,CAAV,EAAY,KAAE,OAAO,KAAP,EAAc,MAA5B,EAAmC,IAAnC,EAAuC;AACnC,iBAAM,OAAO,OAAO,KAAP,EAAc,EAAd,CAAb;AACA,yBAAY,IAAZ,EAAiB,OAAjB,EAA0B,IAA1B;AACA,iBAAI,KAAI,OAAO,KAAP,EAAc,MAAd,GAAuB,CAA/B,EAAkC;AAC9B,qBAAM,OAAO,EAAE,aAAF,CAAgB,IAAhB,EAAsB,OAAO,KAAP,EAAc,KAAI,CAAlB,CAAtB,CAAb;AACA,6BAAY,IAAZ,EAAkB,OAAlB,EAA2B,IAA3B;AACH;AACJ;AACJ,MApBD;;AAsBA,SAAM,cAAc,SAAd,WAAc,GAAU;AAC1B,aAAM,YAAU,IAAI,YAAJ,CAAiB,CAAjB,CAAhB;AACA,aAAM,QAAQ,UAAU,KAAxB;AACA,gBAAO,IAAP,CAAY,KAAZ,EAAmB,GAAnB,CAAuB,UAAC,EAAD,EAAM;AACzB,yBAAY,EAAZ,EAAe,MAAM,EAAN,IAAU,YAAV,GAAuB,YAAtC,EAAmD,IAAnD;AACH,UAFD;AAGA,gBAAO,SAAP;AACH,MAPD;;AASA,SAAM,kBAAkB,SAAlB,eAAkB,GAAU;AAC9B,aAAI,eAAJ,CAAoB,CAApB,EAAuB,GAAvB,CAA2B;AAAA,oBAAM,YAAY,KAAK,EAAjB,EAAoB,eAApB,EAAoC,IAApC,CAAN;AAAA,UAA3B;AACH,MAFD;;;AAKA,SAAM,cAAc,SAAd,WAAc,CAAC,EAAD,EAAI,IAAJ,EAAS,OAAT,EAAmB;AACnC,aAAG,OAAK,IAAL,IAAa,OAAK,SAArB,EAA+B;AAC/B,aAAG,cAAc,KAAd,CAAoB,QAApB,CAA6B,EAA7B,KAAoC,CAAC,OAAxC,EAAgD;AAChD,WAAE,UAAF,CAAa,EAAb,EAAiB,IAAjB,GAAsB,IAAtB;AACA,aAAG,YAAU,IAAb,EACI,cAAc,KAAd,CAAoB,IAApB,CAAyB,EAAzB;AACP,MAND;;AAQA,SAAM,cAAc,SAAd,WAAc,CAAC,EAAD,EAAI,IAAJ,EAAS,OAAT,EAAmB;AACnC,aAAG,OAAK,IAAL,IAAa,OAAK,SAArB,EAA+B;AAC/B,aAAG,cAAc,KAAd,CAAoB,QAApB,CAA6B,EAA7B,KAAoC,CAAC,OAAxC,EAAgD;AAChD,WAAE,UAAF,CAAa,EAAb,EAAiB,IAAjB,GAAsB,IAAtB;AACA,aAAG,YAAU,IAAb,EACI,cAAc,KAAd,CAAoB,IAApB,CAAyB,EAAzB;AACP,MAND;;AAQA,SAAM,gBAAgB,SAAhB,aAAgB,GAAI;AACtB,uBAAc,KAAd,GAAoB,EAApB;AACA,uBAAc,KAAd,GAAoB,EAApB;AACA,WAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD;AAAA,oBAAQ,KAAK,IAAL,GAAU,EAAlB;AAAA,UAAjB;AACA,WAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD;AAAA,oBAAQ,KAAK,IAAL,GAAU,EAAlB;AAAA,UAAjB;AACH,MALD;;AAOA,SAAM,oBAAoB,SAApB,iBAAoB,CAAC,CAAD,EAAG,CAAH,EAAO;AAC7B,aAAI,SAAO,IAAX;AACA,aAAM,IAAI,OAAO,cAAP,CAAsB,CAAtB,EAAwB,CAAxB,CAAV;AACA,WAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD,EAAQ;AACrB,iBAAG,EAAE,CAAF,IAAO,KAAK,CAAL,GAAO,KAAK,IAAnB,IAA2B,EAAE,CAAF,IAAO,KAAK,CAAL,GAAO,KAAK,IAA9C,IAAsD,EAAE,CAAF,IAAO,KAAK,CAAL,GAAO,KAAK,IAAzE,IAAiF,EAAE,CAAF,IAAO,KAAK,CAAL,GAAO,KAAK,IAAvG,EACI,SAAO,KAAK,EAAZ;AACP,UAHD;AAIA,gBAAO,MAAP;AACH,MARD;;;AAYA,SAAM,cAAc,SAAd,WAAc,CAAC,EAAD,EAAM;AACtB,qBAAY,WAAZ,EAAwB,EAAxB;AACA,qBAAY,EAAZ,EAAe,OAAf;AACA,uBAAY,EAAZ;;AAEA,yBAAgB,GAAhB,CAAoB,UAAC,GAAD;AAAA,oBAAO,YAAY,GAAZ,CAAP;AAAA,UAApB;AACA,2BAAgB,EAAhB;AACA,yBAAgB,GAAhB,CAAoB,UAAC,GAAD;AAAA,oBAAO,YAAY,GAAZ,CAAP;AAAA,UAApB;AACA,2BAAgB,EAAhB;;AAEA,aAAG,OAAK,IAAR,EAAa;;AAEb,WAAE,kBAAF,CAAqB,EAArB,EAAyB,GAAzB,CAA6B,UAAC,GAAD,EAAO;AAChC,yBAAY,GAAZ,EAAgB,WAAhB;AACA,6BAAgB,IAAhB,CAAqB,GAArB;AACH,UAHD;;AAKA,WAAE,kBAAF,CAAqB,EAArB,EAAyB,GAAzB,CAA6B,UAAC,GAAD,EAAO;AAChC,yBAAY,GAAZ,EAAgB,WAAhB;AACA,6BAAgB,IAAhB,CAAqB,GAArB;AACH,UAHD;;AAKA,WAAE,YAAF,CAAe,EAAf,EAAmB,GAAnB,CAAuB,eAAK;AACxB,iBAAG,EAAE,UAAF,CAAa,GAAb,EAAkB,QAArB,EAA+B;AAC3B,6BAAY,GAAZ,EAAiB,YAAjB;AACA,iCAAgB,IAAhB,CAAqB,GAArB;AACA,6BAAY,EAAE,UAAF,CAAa,GAAb,EAAkB,CAA9B,EAAiC,YAAjC;AACA,iCAAgB,IAAhB,CAAqB,EAAE,UAAF,CAAa,GAAb,EAAkB,CAAvC;AACH;AACJ,UAPD;AAQH,MA9BD;;AAgCA,SAAM,aAAa,SAAb,UAAa,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAY;AAC3B,WAAE,UAAF,CAAa,EAAb,EAAiB,CAAjB,IAAoB,EAApB;AACA,WAAE,UAAF,CAAa,EAAb,EAAiB,CAAjB,IAAoB,EAApB;AACH,MAHD;;AAKA,SAAM,iBAAiB,SAAjB,cAAiB,CAAC,EAAD,EAAI,EAAJ,EAAS;AAC5B,gBAAO,cAAP,CAAsB,CAAtB,IAAyB,EAAzB;AACA,gBAAO,cAAP,CAAsB,CAAtB,IAAyB,EAAzB;AACH,MAHD;;AAKA,mBAAc,WAAd,GAA0B,UAAC,CAAD,EAAK;AAC3B,gBAAO,OAAP,GAAe,cAAc,KAA7B;AACA,qBAAY,kBAAkB,EAAE,CAApB,EAAsB,EAAE,CAAxB,CAAZ;AACH,MAHD;;AAKA,mBAAc,MAAd,GAAqB,UAAC,CAAD,EAAK;AACtB,aAAG,eAAa,IAAhB,EACI,eAAe,EAAE,EAAjB,EAAoB,EAAE,EAAtB,EADJ,KAGI,WAAW,UAAX,EAAsB,EAAE,EAAF,GAAK,OAAO,IAAP,EAA3B,EAAyC,EAAE,EAAF,GAAK,OAAO,IAAP,EAA9C;AACP,MALD;;AAOA,mBAAc,WAAd,GAA0B,UAAC,CAAD,EAAK;AAC3B,sBAAW,kBAAkB,EAAE,CAApB,EAAsB,EAAE,CAAxB,CAAX;AACH,MAFD;;AAIA,mBAAc,SAAd,GAAwB,YAAI;AACxB,sBAAW,IAAX;AACH,MAFD;;AAIA,mBAAc,OAAd,GAAsB,UAAC,CAAD,EAAK;AACvB;AACA,0BAAiB,kBAAkB,EAAE,CAApB,EAAsB,EAAE,CAAxB,CAAjB;AACH,MAHD;;AAKA,mBAAc,UAAd,GAAyB,UAAC,CAAD,EAAK;AAC1B,aAAM,KAAK,kBAAkB,EAAE,CAApB,EAAsB,EAAE,CAAxB,CAAX;AACA,aAAG,OAAK,IAAR,EAAa;AACT,iBAAM,IAAE,OAAO,cAAP,CAAsB,EAAE,CAAxB,EAA0B,EAAE,CAA5B,CAAR;AACA,iBAAM,UAAU,EAAE,UAAF,CAAa,EAAE,CAAf,EAAiB,EAAE,CAAnB,CAAhB;AACA,iBAAG,qBAAmB,IAAtB,EACI,mBAAiB,OAAjB,CADJ,KAEI;AACA,mBAAE,UAAF,CAAa,gBAAb,EAA8B,OAA9B;AACA,oCAAiB,IAAjB;AACH;AACJ,UATD,MAUK;AACD,iBAAI,qBAAqB,IAAzB,EACI,mBAAmB,EAAnB,CADJ,KAEK;AACD,mBAAE,UAAF,CAAa,gBAAb,EAA+B,EAA/B;AACA,oCAAmB,IAAnB;AACH;AACJ;AACJ,MApBD;;AAsBA,mBAAc,YAAd,GAA2B,UAAC,CAAD,EAAK;AAC5B,gBAAO,IAAP,CAAY,EAAE,MAAd;AACH,MAFD;;;AAKA,UAAK,SAAL,GAAe,UAAC,MAAD,EAAQ,IAAR,EAAe;AAC1B,WAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD,EAAM,CAAN,EAAU;AACvB,iBAAM,IAAI,OAAO;AACb,yBAAO,KAAK,EADC;AAEb,4BAAU,CAFG;AAGb,8BAAY,EAAE,UAAF,CAAa,MAHZ;AAIb,uBAAK;AAJQ,cAAP,CAAV;AAMA,kBAAK,CAAL,GAAO,EAAE,CAAT;AACA,kBAAK,CAAL,GAAO,EAAE,CAAT;AACH,UATD;AAUH,MAXD;;AAaA,UAAK,MAAL,GAAY,EAAZ;AACA,UAAK,MAAL,CAAY,MAAZ,GAAmB,EAAnB;AACA,UAAK,MAAL,CAAY,MAAZ,CAAmB,MAAnB,GAA0B,GAA1B;AACA,UAAK,MAAL,CAAY,IAAZ,GAAiB,EAAjB;AACA,UAAK,MAAL,CAAY,IAAZ,CAAiB,MAAjB,GAAwB,EAAxB;AACA,UAAK,MAAL,CAAY,IAAZ,CAAiB,GAAjB,GAAqB,CAArB;AACA,UAAK,MAAL,CAAY,SAAZ,GAAsB,EAAtB;AACA,UAAK,MAAL,CAAY,SAAZ,CAAsB,UAAtB,GAAiC,GAAjC;AACA,UAAK,MAAL,CAAY,SAAZ,CAAsB,aAAtB,GAAoC,EAApC;AACA,UAAK,MAAL,CAAY,SAAZ,CAAsB,SAAtB,GAAgC,YAAhC;;;AAGA,UAAK,kBAAL,GAA0B,SAA1B;;;AAGA,UAAK,YAAL,GAAoB;AAAA,gBAAI,MAAK,SAAL,CAAe,YAAf,EAA4B,MAAK,MAAL,CAAY,MAAxC,CAAJ;AAAA,MAApB;AACA,UAAK,UAAL,GAAkB;AAAA,gBAAI,MAAK,SAAL,CAAe,UAAf,EAA0B,MAAK,MAAL,CAAY,IAAtC,CAAJ;AAAA,MAAlB;AACA,UAAK,eAAL,GAAuB,YAAI;AACvB,aAAM,YAAY,aAAlB;AACA,aAAG,UAAU,SAAb,EAAuB;AACnB,mBAAK,MAAL,CAAY,SAAZ,CAAsB,SAAtB,GAAgC,CAAhC;AACA,mBAAK,MAAL,CAAY,SAAZ,CAAsB,UAAtB,GAAiC,CAAjC;AACA,mBAAK,MAAL,CAAY,SAAZ,CAAsB,KAAtB,GAA4B,UAAU,KAAtC;AACA,mBAAK,SAAL,CAAe,eAAf,EAA+B,MAAK,MAAL,CAAY,SAA3C;AACH;AACJ,MARD;AASA,UAAK,cAAL,GAAsB,cAAtB;AACA,UAAK,WAAL,GAAmB;AAAA,gBAAI,MAAM,cAAc,SAApB,CAAJ;AAAA,MAAnB;AACA,UAAK,eAAL,GAAuB,eAAvB;AACA,UAAK,aAAL,GAAqB;AAAA,gBAAI,MAAM,IAAI,aAAJ,CAAkB,CAAlB,CAAN,CAAJ;AAAA,MAArB;AACA,UAAK,MAAL,GAAc,MAAd;AACA,UAAK,QAAL,GAAgB,YAAI;AAChB,aAAM,OAAK,KAAK,SAAL,CAAe,EAAC,OAAM,EAAE,UAAT,EAAoB,OAAM,EAAE,UAA5B,EAAf,CAAX;AACA,gBAAO,IAAI,IAAJ,CAAS,CAAC,IAAD,CAAT,EAAiB,EAAC,MAAM,gCAAP,EAAjB,CAAP,EAAkE,MAAM,YAAN,CAAmB,EAAnB,IAAuB,OAAzF;AACH,MAHD;AAIH,EAvRD;;;AA0RA,KAAM,eAAe,SAAf,YAAe,CAAS,CAAT,EAAW;AAC5B,SAAM,IAAG,EAAE,IAAF,CAAO,MAAP,GAAc,KAAK,GAAL,CAAS,EAAE,SAAF,GAAY,CAAZ,GAAc,KAAK,EAAnB,GAAsB,EAAE,WAAjC,CAAf,IAA+D,CAAvE;AACA,SAAM,IAAG,EAAE,IAAF,CAAO,MAAP,GAAc,KAAK,GAAL,CAAS,EAAE,SAAF,GAAY,CAAZ,GAAc,KAAK,EAAnB,GAAsB,EAAE,WAAjC,CAAf,IAA+D,CAAvE;AACA,YAAO,EAAC,IAAD,EAAG,IAAH,EAAP;AACH,EAJD;AAKA,KAAM,aAAa,SAAb,UAAa,CAAS,CAAT,EAAW;AAC1B,SAAM,IAAE,EAAE,IAAF,CAAO,MAAP,IAAe,EAAE,SAAF,GAAY,EAAE,IAAF,CAAO,GAAlC,CAAR;AACA,SAAM,IAAE,EAAE,IAAF,CAAO,MAAP,IAAgB,EAAE,SAAF,GAAY,EAAE,IAAF,CAAO,GAApB,IAA0B,CAAzC,CAAR;AACA,YAAO,EAAC,IAAD,EAAG,IAAH,EAAP;AACH,EAJD;AAKA,KAAM,kBAAkB,SAAlB,eAAkB,CAAS,CAAT,EAAY;AAChC,SAAI,IAAE,EAAE,IAAF,CAAO,KAAP,CAAa,EAAE,MAAf,IAAuB,CAAvB,GAAyB,EAAE,IAAF,CAAO,UAAtC;AACA,SAAI,IAAE,EAAE,IAAF,CAAO,KAAP,CAAa,EAAE,MAAf,IAAyB,EAAE,IAAF,CAAO,SAAP,EAAD,GAAqB,EAAE,IAAF,CAAO,aAApD,GAAqE,EAAE,IAAF,CAAO,UAAP,EAAD,GAAsB,EAAE,IAAF,CAAO,aAAvG;AACA,SAAG,EAAE,IAAF,CAAO,SAAP,KAAmB,UAAtB,EAAiC;AAC7B,aAAM,IAAE,CAAR;AACA,aAAE,CAAF;AACA,aAAE,CAAF;AACH;AACD,YAAO,EAAC,IAAD,EAAG,IAAH,EAAP;AACH,EATD,C;;;;;;ACpSA;;AACA,QAAO,OAAP,CAAe,gBAAf,GAAkC,UAAC,IAAD,EAAO,QAAP,EAAkB;AAChD,SAAI,OAAO,SAAS,QAAT,CAAkB,KAAlB,CAAwB,GAAxB,CAAX;AACA,UAAK,GAAL;AACA,YAAO,KAAK,IAAL,CAAU,GAAV,IAAiB,GAAxB;AACA,YAAO,OAAP,CAAe,eAAf,CAA+B,YAAY,SAAS,IAArB,GAA4B,IAA5B,GAAmC,IAAlE,EAAwE,QAAxE;AACH,EALD;;AAOA,QAAO,OAAP,CAAe,eAAf,GAAiC,UAAC,GAAD,EAAM,QAAN,EAAiB;AAC9C,SAAI,IAAI,IAAI,cAAJ,EAAR;AACA,OAAE,gBAAF,CAAmB,kBAAnB;AACA,OAAE,IAAF,CAAO,KAAP,EAAc,GAAd,EAAmB,IAAnB;AACA,OAAE,kBAAF,GAAuB,YAAY;AAC/B,aAAI,EAAE,UAAF,IAAgB,CAAhB,IAAqB,EAAE,MAAF,IAAY,KAArC,EAA4C;AACxC,sBAAS,KAAK,KAAL,CAAW,EAAE,YAAb,CAAT;AACH;AACJ,MAJD;AAKA,OAAE,IAAF,CAAO,IAAP;AACH,EAVD;;AAYA,QAAO,OAAP,CAAe,YAAf,GAA8B,aAAG;AAC7B,SAAI,IAAI,EAAR;AACA,YAAO,GAAP,EAAY;AACR,cAAK,OAAO,YAAP,CAAoB,CAAE,KAAK,MAAL,KAAgB,EAAjB,IAAwB,CAAzB,IAA8B,EAAlD,CAAL;AACH;AACD,YAAO,CAAP;AACH,EAND,C;;;;;;;;ACpBA,QAAO,OAAP,GAAiB,UAAU,MAAV,EAAiB;AAAA;;AAC9B,SAAM,OAAO,IAAb;;AAEA,SAAG,OAAO,MAAP,KAAkB,QAArB,EACI,SAAS,SAAS,cAAT,CAAwB,MAAxB,CAAT;AACJ,UAAK,MAAL,GAAc,MAAd;AACA,UAAK,GAAL,GAAW,KAAK,MAAL,CAAY,UAAZ,CAAuB,IAAvB,CAAX;;AAEA,SAAM,UAAQ,EAAd;;AAEA,SAAM,SAAO,EAAb;AACA,YAAO,CAAP,GAAS,CAAT;AACA,YAAO,CAAP,GAAS,CAAT;AACA,YAAO,IAAP,GAAY,KAAZ;AACA,YAAO,IAAP,GAAY,KAAZ;AACA,UAAK,KAAL,GAAa,MAAb;;AAEA,UAAK,MAAL,CAAY,WAAZ,GAAwB,UAAC,CAAD,EAAK;AACzB,gBAAO,IAAP,GAAY,IAAZ;;AADyB,6BAEb,aAAa,EAAE,OAAf,EAAuB,EAAE,OAAzB,CAFa;;AAAA,aAElB,CAFkB,iBAElB,CAFkB;AAAA,aAEhB,CAFgB,iBAEhB,CAFgB;;AAGzB,eAAK,WAAL,CAAiB,EAAC,IAAD,EAAG,IAAH,EAAjB;AACH,MAJD;AAKA,UAAK,MAAL,CAAY,SAAZ,GAAsB,UAAC,CAAD,EAAK;AACvB,gBAAO,IAAP,GAAY,KAAZ;;AADuB,8BAEX,aAAa,EAAE,OAAf,EAAuB,EAAE,OAAzB,CAFW;;AAAA,aAEhB,CAFgB,kBAEhB,CAFgB;AAAA,aAEd,CAFc,kBAEd,CAFc;;AAGvB,eAAK,SAAL,CAAe,EAAC,IAAD,EAAG,IAAH,EAAf;AACH,MAJD;;AAMA,UAAK,MAAL,CAAY,WAAZ,GAAwB;AAAA,gBAAI,OAAO,IAAP,GAAY,IAAhB;AAAA,MAAxB;AACA,UAAK,MAAL,CAAY,UAAZ,GAAuB;AAAA,gBAAI,OAAO,IAAP,GAAY,KAAhB;AAAA,MAAvB;;AAEA,UAAK,MAAL,CAAY,WAAZ,GAAwB,UAAC,CAAD,EAAK;AACzB,aAAG,CAAC,OAAO,IAAX,EAAgB;;AADS,8BAGb,aAAa,EAAE,OAAf,EAAuB,EAAE,OAAzB,CAHa;;AAAA,aAGlB,CAHkB,kBAGlB,CAHkB;AAAA,aAGhB,CAHgB,kBAGhB,CAHgB;;AAIzB,aAAM,KAAM,IAAI,OAAO,CAAvB;AACA,aAAM,KAAM,IAAI,OAAO,CAAvB;;AAEA,aAAG,OAAO,IAAV,EACI,KAAK,MAAL,CAAY,EAAC,MAAD,EAAI,MAAJ,EAAO,IAAP,EAAS,IAAT,EAAZ,EADJ,KAGI,KAAK,WAAL,CAAiB,EAAC,IAAD,EAAG,IAAH,EAAjB;;AAEJ,gBAAO,CAAP,GAAS,CAAT;AACA,gBAAO,CAAP,GAAS,CAAT;AACH,MAdD;;AAgBA,UAAK,MAAL,CAAY,OAAZ,GAAoB,YAAI;AACpB,cAAK,OAAL,CAAa,EAAC,GAAE,OAAO,CAAV,EAAY,GAAE,OAAO,CAArB,EAAb;AACH,MAFD;;AAIA,UAAK,MAAL,CAAY,UAAZ,GAAuB,YAAI;AACvB,cAAK,UAAL,CAAgB,EAAC,GAAE,OAAO,CAAV,EAAY,GAAE,OAAO,CAArB,EAAhB;AACH,MAFD;;AAIA,UAAK,MAAL,CAAY,gBAAZ,CAA6B,YAA7B,EAA0C,UAAC,CAAD;AAAA,gBAAK,KAAK,YAAL,CAAkB,CAAlB,CAAL;AAAA,MAA1C;;AAEA,SAAM,eAAe,SAAf,YAAe,CAAC,EAAD,EAAI,EAAJ,EAAS;AAC1B,aAAM,IAAI,KAAG,QAAQ,GAAR,CAAY,IAAzB;AACA,aAAM,IAAI,KAAG,QAAQ,GAAR,CAAY,GAAzB;AACA,gBAAO,EAAC,IAAD,EAAG,IAAH,EAAP;AACH,MAJD;;AAMA,SAAM,YAAY,SAAZ,SAAY,GAAI;AAClB,cAAK,MAAL,CAAY,KAAZ,GAAkB,OAAO,UAAzB;AACA,cAAK,MAAL,CAAY,MAAZ,GAAmB,OAAO,WAA1B;AACA,iBAAQ,GAAR,GAAY,KAAK,MAAL,CAAY,qBAAZ,EAAZ;AACH,MAJD;AAKA,YAAO,QAAP,GAAgB,SAAhB;AACA;;;;;AAMA,UAAK,WAAL,GAAiB,YAAI,CAAE,CAAvB;AACA,UAAK,OAAL,GAAa,YAAI,CAAE,CAAnB;AACA,UAAK,UAAL,GAAgB,YAAI,CAAE,CAAtB;AACA,UAAK,MAAL,GAAY,YAAI,CAAE,CAAlB;AACA,UAAK,WAAL,GAAiB,YAAI,CAAE,CAAvB;AACA,UAAK,SAAL,GAAe,YAAI,CAAE,CAArB;AACA,UAAK,YAAL,GAAkB,YAAI,CAAE,CAAxB;;;;;;AAMA,UAAK,KAAL,GAAa,UAAC,KAAD,EAAS;AAClB,cAAK,GAAL,CAAS,SAAT,GAAqB,KAArB;AACA,cAAK,GAAL,CAAS,QAAT,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,KAAK,MAAL,CAAY,KAAlC,EAAwC,KAAK,MAAL,CAAY,MAApD;AACH,MAHD;AAIH,EA3FD,C;;;;;;;;ACAA,KAAM,iBAAiB;AACnB,eAAS,EAAC,GAAE,CAAC,GAAJ,EAAQ,GAAE,CAAC,GAAX,EADU;AAEnB,gBAAU;AACN,aAAG,SADG;AAEN,kBAAQ,SAFF;AAGN,sBAAY,SAHN;AAIN,uBAAa,SAJP;AAKN,kBAAQ,SALF;AAMN,oBAAU,SANJ;AAON,oBAAU,SAPJ;AAQN,kBAAQ,SARF;AASN,uBAAa,SATP;AAUN,uBAAa;AAVP,MAFS;AAcnB,cAAQ,SAdW;AAenB,gBAAU;AACN,aAAG,SADG;AAEN,sBAAY,SAFN;AAGN,uBAAa,SAHP;AAIN,kBAAQ,SAJF;AAKN,kBAAQ,SALF;AAMN,0BAAgB;AANV,MAfS;AAuBnB,gBAAU;AACN,aAAG;AADG,MAvBS;AA0BnB,yBAAmB,EA1BA;AA2BnB,kBAAY;AACR,YAAE,EADM;AAER,YAAE;AAFM;AA3BO,EAAvB;;AAiCA,QAAO,OAAP,GAAiB,UAAU,aAAV,EAAwB,CAAxB,EAA0B,GAA1B,EAA8B;AAAA;;AAC3C,WAAI,OAAK,cAAT;;AAEA,SAAM,eAAe,aAAa,OAAb,CAAqB,YAArB,CAArB;;AAEA,SAAM,MAAM,cAAc,GAA1B;AACA,UAAK,cAAL,GAAoB,EAAC,GAAE,CAAH,EAAK,GAAE,CAAP,EAApB;;AAEA,SAAI,aAAW,CAAf;;AAEA,SAAI,kBAAgB,EAApB;;AAEA,SAAM,SAAS,SAAT,MAAS,GAAI;AACf;AACA;AACA;AACA;AACA,aAAG,iBAAe,IAAlB,EACI,WAAW;AAAA,oBAAI,sBAAsB,MAAtB,CAAJ;AAAA,UAAX,EAA6C,YAA7C,EADJ,KAGI,sBAAsB,MAAtB;AACP,MATD;AAUA,2BAAsB,MAAtB;;AAEA,SAAM,cAAc,SAAd,WAAc,GAAI;AACpB,uBAAc,KAAd,CAAoB,IAAI,OAAxB;AACA,aAAI,IAAJ;AACA,aAAI,KAAJ,CAAU,UAAV,EAAqB,UAArB;AACA,aAAI,SAAJ,CAAc,CAAC,WAAW,CAA1B,EAA4B,CAAC,WAAW,CAAxC;AACH,MALD;;AAOA,SAAM,YAAY,SAAZ,SAAY,GAAI;AAClB,aAAI,OAAJ;AACH,MAFD;;AAIA,SAAM,aAAa,SAAb,UAAa,GAAI;AACnB,WAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD,EAAQ;AACrB,iBAAI,SAAJ,GAAc,IAAI,SAAJ,CAAc,cAAd,CAA6B,KAAK,IAAlC,IAAwC,IAAI,SAAJ,CAAc,KAAK,IAAnB,CAAxC,GAAiE,IAAI,SAAJ,CAAc,EAAd,CAA/E;AACA,iBAAI,SAAJ;AACA,iBAAI,GAAJ,CAAQ,KAAK,CAAb,EAAe,KAAK,CAApB,EAAsB,KAAK,IAA3B,EAAgC,CAAhC,EAAkC,IAAE,KAAK,EAAzC,EAA4C,KAA5C;AACA,iBAAI,IAAJ;AACA,iBAAI,SAAJ;;AAEA,iBAAM,YAAY,KAAK,IAAL,GAAU,CAA5B;AACA,iBAAI,SAAO,CAAC,SAAD,GAAW,CAAtB;AACA,iBAAI,IAAJ,GAAS,YAAU,cAAnB;AACA,iBAAI,SAAJ,GAAc,SAAd;AACA,iBAAG,MAAK,OAAL,CAAa,OAAb,CAAqB,KAArB,KAA6B,IAA7B,IAAqC,KAAK,KAAL,KAAa,EAArD,EAAyD;AACrD,qBAAI,QAAJ,CAAa,KAAK,KAAlB,EAAyB,KAAK,CAAL,GAAS,KAAK,IAAvC,EAA6C,KAAK,CAAL,GAAS,MAAtD;AACA,0BAAO,SAAO,SAAd;AACH;AACD,iBAAG,MAAK,OAAL,CAAa,OAAb,CAAqB,EAArB,KAA0B,IAA7B,EAAmC;AAC/B,qBAAI,QAAJ,CAAa,KAAK,EAAlB,EAAsB,KAAK,CAAL,GAAS,KAAK,IAApC,EAA0C,KAAK,CAAL,GAAS,MAAnD;AACA,0BAAO,SAAO,SAAd;AACH;AACD,iBAAG,MAAK,OAAL,CAAa,OAAb,CAAqB,KAArB,KAA6B,IAAhC,EACI,IAAI,QAAJ,CAAa,KAAK,SAAL,CAAe,KAAK,KAApB,CAAb,EAAyC,KAAK,CAAL,GAAS,KAAK,IAAvD,EAA6D,KAAK,CAAL,GAAS,MAAtE;AACP,UArBD;AAsBH,MAvBD;;AAyBA,SAAM,aAAa,SAAb,UAAa,GAAI;AACnB,2BAAgB,EAAhB;AACA,aAAI,SAAJ,GAAc,IAAI,SAAJ,CAAc,EAAd,CAAd;AACA,aAAI,IAAJ,GAAS,gBAAT;AACA,aAAI,SAAJ,GAAc,SAAd;AACA,WAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD,EAAQ;AACrB,iBAAM,UAAU,CAAC,KAAK,CAAN,EAAQ,KAAK,CAAb,EAAgB,IAAhB,EAAhB;AACA,6BAAgB,OAAhB,IAAyB,gBAAgB,OAAhB,KAA0B,EAAnD;AACA,iBAAG,gBAAgB,OAAhB,EAAyB,OAAzB,CAAiC,KAAK,EAAtC,IAA0C,CAA7C,EACI,gBAAgB,OAAhB,EAAyB,IAAzB,CAA8B,KAAK,EAAnC;AACJ,sBAAS,IAAT,EAAc,OAAd;AACH,UAND;AAOH,MAZD;;AAcA,SAAM,WAAW,SAAX,QAAW,CAAC,IAAD,EAAM,OAAN,EAAgB;AAC7B,aAAM,UAAU,gBAAgB,OAAhB,EAAyB,OAAzB,CAAiC,KAAK,EAAtC,CAAhB;AACA,aAAM,IAAE,EAAC,GAAE,EAAE,UAAF,CAAa,KAAK,CAAlB,EAAqB,CAAxB,EAA0B,GAAE,EAAE,UAAF,CAAa,KAAK,CAAlB,EAAqB,CAAjD,EAAR;AACA,aAAM,IAAE,EAAC,GAAE,EAAE,UAAF,CAAa,KAAK,CAAlB,EAAqB,CAAxB,EAA0B,GAAE,EAAE,UAAF,CAAa,KAAK,CAAlB,EAAqB,CAAjD,EAAR;AACA,aAAM,WAAW,KAAK,IAAL,CAAU,KAAK,GAAL,CAAS,EAAE,CAAF,GAAI,EAAE,CAAf,EAAiB,CAAjB,IAAoB,KAAK,GAAL,CAAS,EAAE,CAAF,GAAI,EAAE,CAAf,EAAiB,CAAjB,CAA9B,CAAjB;AACA,aAAM,QAAQ,KAAK,KAAL,CAAW,EAAE,CAAF,GAAI,EAAE,CAAjB,EAAmB,EAAE,CAAF,GAAI,EAAE,CAAzB,CAAd;AACA,aAAM,SAAO,EAAC,GAAE,WAAS,CAAZ,EAAc,GAAE,UAAQ,IAAI,kBAA5B,EAAb;AACA,aAAI,WAAJ,GAAgB,IAAI,SAAJ,CAAc,cAAd,CAA6B,KAAK,IAAlC,IAAwC,IAAI,SAAJ,CAAc,KAAK,IAAnB,CAAxC,GAAiE,IAAI,SAAJ,CAAc,EAAd,CAAjF;AACA,aAAI,IAAJ;AACA,aAAI,SAAJ,CAAc,EAAE,CAAhB,EAAkB,EAAE,CAApB;AACA,aAAI,MAAJ,CAAW,KAAX;AACA,aAAI,SAAJ;AACA,aAAI,MAAJ,CAAW,CAAX,EAAa,CAAb;AACA,aAAI,aAAJ,CAAkB,OAAO,CAAzB,EAA2B,OAAO,CAAlC,EAAoC,OAAO,CAA3C,EAA6C,OAAO,CAApD,EAAsD,QAAtD,EAA+D,CAA/D;AACA,aAAI,MAAJ;AACA,aAAI,SAAJ;AACA,aAAG,KAAK,QAAR,EAAiB;AACb,iBAAI,SAAJ;AACA,iBAAI,MAAJ,CAAW,WAAS,IAAI,WAAJ,CAAgB,CAApC,EAAsC,CAAtC;AACA,iBAAI,MAAJ,CAAW,WAAS,IAAI,WAAJ,CAAgB,CAAhB,GAAkB,CAAtC,EAAwC,CAAC,IAAI,WAAJ,CAAgB,CAAzD;AACA,iBAAI,MAAJ,CAAW,WAAS,IAAI,WAAJ,CAAgB,CAApC,EAAsC,CAAtC;AACA,iBAAI,MAAJ,CAAW,WAAS,IAAI,WAAJ,CAAgB,CAAhB,GAAkB,CAAtC,EAAwC,IAAI,WAAJ,CAAgB,CAAxD;AACA,iBAAI,MAAJ;AACA,iBAAI,SAAJ;AACH;AACD,aAAG,MAAK,OAAL,CAAa,OAAb,CAAqB,MAArB,KAA8B,IAAjC,EAAuC;AACnC,iBAAM,WAAW,KAAK,MAAL,KAAgB,OAAO,iBAAvB,GAA2C,KAA3C,GAAmD,KAAK,MAAzE;AACA,iBAAG,QAAM,CAAC,KAAK,EAAN,GAAS,CAAf,IAAoB,QAAM,KAAK,EAAL,GAAQ,CAArC,EAAwC;AACpC,qBAAI,IAAJ;AACA,qBAAI,MAAJ,CAAW,KAAK,EAAhB;AACA,qBAAI,QAAJ,CAAa,QAAb,EAAuB,CAAC,OAAO,CAA/B,EAAkC,CAAC,OAAO,CAA1C;AACA,qBAAI,OAAJ;AACH,cALD,MAOI,IAAI,QAAJ,CAAa,QAAb,EAAuB,OAAO,CAA9B,EAAiC,OAAO,CAAxC;AACP;AACD,aAAI,OAAJ;AACH,MArCD;;AAuCA,SAAM,WAAW,SAAX,QAAW,GAAI;AACjB,aAAM,IAAI,CAAC,IAAI,QAAJ,CAAa,CAAb,GAAe,MAAK,cAAL,CAAoB,CAApC,IAAuC,UAAjD;AACA,aAAM,IAAI,CAAC,IAAI,QAAJ,CAAa,CAAb,GAAe,MAAK,cAAL,CAAoB,CAApC,IAAuC,UAAjD;AACA,gBAAO,EAAC,IAAD,EAAG,IAAH,EAAP;AACH,MAJD;;AAMA,UAAK,IAAL,GAAY,UAAC,EAAD,EAAM;AACd,aAAG,OAAK,SAAR,EACI,OAAO,UAAP,CADJ,KAGI,aAAW,aAAW,MAAI,OAAK,UAAT,CAAtB;AACP,MALD;;AAOA,UAAK,cAAL,GAAsB,UAAC,CAAD,EAAG,CAAH,EAAO;AACzB,aAAI,IAAE,UAAF,GAAa,WAAW,CAA5B;AACA,aAAI,IAAE,UAAF,GAAa,WAAW,CAA5B;AACA,gBAAO,EAAC,IAAD,EAAG,IAAH,EAAP;AACH,MAJD;;;AAOA,UAAK,OAAL,GAAa,EAAb;AACA,UAAK,OAAL,CAAa,OAAb,GAAqB,EAArB;AACA,UAAK,OAAL,CAAa,OAAb,CAAqB,EAArB,GAAwB,IAAxB;AACA,UAAK,OAAL,CAAa,OAAb,CAAqB,KAArB,GAA2B,IAA3B;AACA,UAAK,OAAL,CAAa,OAAb,CAAqB,KAArB,GAA2B,IAA3B;AACA,UAAK,OAAL,CAAa,OAAb,CAAqB,MAArB,GAA4B,IAA5B;AACH,EA3ID,C;;;;;;ACjCA;;AAEA,QAAO,OAAP,GAAiB,UAAU,QAAV,EAAmB;AAAA;;AAChC,SAAI,eAAe,CAAnB;AACA,SAAI,eAAe,CAAnB;AACA,gBAAW,YAAY,EAAvB;;;;;;AAMA,UAAK,UAAL,GAAgB,EAAhB;AACA,UAAK,UAAL,GAAgB,EAAhB;;;;;;AAMA,UAAK,UAAL,GAAgB,EAAhB;AACA,UAAK,UAAL,GAAgB,EAAhB;;;;;AAKA,UAAK,kBAAL,GAA0B,EAA1B;AACA,UAAK,kBAAL,GAA0B,EAA1B;;;;;AAKA,UAAK,YAAL,GAAoB,EAApB;AACA,UAAK,YAAL,GAAoB,EAApB;;;;;;AAMA,UAAK,OAAL,GAAe,gBAAM;AACjB,gBAAO,MAAM,OAAN,CAAc,IAAd,IAAsB,IAAtB,GAA6B,CAAC,IAAD,CAApC;AACA,cAAK,GAAL,CAAS,UAAC,CAAD;AAAA,oBAAK,UAAU,CAAV,CAAL;AAAA,UAAT;AACH,MAHD;;;;;AAQA,UAAK,OAAL,GAAe,gBAAM;AACjB,gBAAO,MAAM,OAAN,CAAc,IAAd,IAAsB,IAAtB,GAA6B,CAAC,IAAD,CAApC;AACA,cAAK,GAAL,CAAS,UAAC,CAAD;AAAA,oBAAK,UAAU,CAAV,CAAL;AAAA,UAAT;AACH,MAHD;;AAKA,UAAK,UAAL,GAAkB,UAAC,CAAD,EAAG,CAAH,EAAO;AACrB,gBAAO,UAAU,EAAC,IAAG,YAAU,cAAd,EAA6B,IAA7B,EAA+B,IAA/B,EAAV,CAAP;AACH,MAFD;AAGA,UAAK,UAAL,GAAkB,UAAC,CAAD,EAAG,CAAH,EAAO;AACrB,gBAAO,UAAU,EAAC,IAAG,YAAU,cAAd,EAA6B,IAA7B,EAA+B,IAA/B,EAAV,CAAP;AACH,MAFD;;AAIA,UAAK,aAAL,GAAqB,UAAC,MAAD,EAAQ,MAAR,EAAiB;AAClC,cAAI,IAAI,IAAE,CAAV,EAAY,IAAE,MAAK,kBAAL,CAAwB,MAAxB,EAAgC,MAA9C,EAAqD,GAArD,EAAyD;AACrD,iBAAM,KAAK,MAAK,kBAAL,CAAwB,MAAxB,EAAgC,CAAhC,CAAX;AACA,iBAAM,OAAO,MAAK,UAAL,CAAgB,EAAhB,CAAb;AACA,iBAAG,KAAK,CAAL,KAAW,MAAX,IAAqB,KAAK,CAAL,KAAW,MAAhC,IACC,KAAK,CAAL,KAAW,MAAX,IAAqB,KAAK,CAAL,KAAW,MADpC,EAEI,OAAO,EAAP;AACP;AACD,gBAAO,IAAP;AACH,MATD;;AAWA,UAAK,KAAL,GAAa,YAAI;AACb,eAAK,UAAL,GAAgB,EAAhB;AACA,eAAK,UAAL,GAAgB,EAAhB;AACA,eAAK,UAAL,GAAgB,EAAhB;AACA,eAAK,UAAL,GAAgB,EAAhB;AACA,eAAK,kBAAL,GAAwB,EAAxB;AACA,eAAK,kBAAL,GAAwB,EAAxB;AACA,eAAK,YAAL,GAAoB,EAApB;AACA,eAAK,YAAL,GAAoB,EAApB;AACH,MATD;;AAWA,UAAK,kBAAL,GAA0B,YAAI;AAC1B,aAAI,SAAS,EAAb;AACA,cAAI,IAAI,IAAE,CAAV,EAAY,IAAE,MAAK,UAAL,CAAgB,MAA9B,EAAqC,GAArC,EAA0C;AACtC,oBAAO,CAAP,IAAU,EAAV;AACA,kBAAI,IAAI,IAAE,CAAV,EAAY,IAAE,MAAK,UAAL,CAAgB,MAA9B,EAAqC,GAArC;AACI,qBAAG,MAAK,kBAAL,CAAwB,MAAK,UAAL,CAAgB,CAAhB,EAAmB,EAA3C,EAA+C,QAA/C,CAAwD,MAAK,UAAL,CAAgB,CAAhB,EAAmB,EAA3E,CAAH,EACI,OAAO,CAAP,EAAU,CAAV,IAAe,CAAf,CADJ,KAGI,OAAO,CAAP,EAAU,CAAV,IAAe,CAAf;AAJR;AAKH;AACD,gBAAO,MAAP;AACH,MAXD;;AAaA,SAAM,YAAY,SAAZ,SAAY,OAAM;AACpB,aAAG,CAAC,KAAK,EAAN,IAAa,OAAO,KAAK,EAAZ,KAAiB,QAAjB,IAA6B,OAAO,KAAK,EAAZ,KAAiB,QAA9D,EACI,MAAM,IAAI,KAAJ,CAAU,iBAAV,CAAN;AACJ,aAAG,MAAK,UAAL,CAAgB,KAAK,EAArB,CAAH,EACI,MAAM,IAAI,KAAJ,CAAU,qBAAV,CAAN;;AAEJ,aAAM,QAAM,EAAZ;AACA,eAAM,KAAN,GAAY,KAAK,KAAL,IAAY,EAAxB;AACA,eAAM,IAAN,GAAW,KAAK,IAAL,IAAW,EAAtB;AACA,eAAM,EAAN,GAAW,KAAK,EAAhB;AACA,eAAM,KAAN,GAAY,KAAK,KAAL,IAAY,EAAxB;;AAEA,eAAM,CAAN,GAAU,KAAK,CAAL,IAAQ,CAAlB;AACA,eAAM,CAAN,GAAU,KAAK,CAAL,IAAQ,CAAlB;;AAEA,eAAM,MAAN,GAAe,KAAf;AACA,eAAM,SAAN,GAAkB,KAAlB;;AAEA,eAAK,UAAL,CAAgB,IAAhB,CAAqB,KAArB;AACA,eAAK,UAAL,CAAgB,MAAM,EAAtB,IAA0B,KAA1B;AACA,eAAK,kBAAL,CAAwB,MAAM,EAA9B,IAAkC,EAAlC;AACA,eAAK,kBAAL,CAAwB,MAAM,EAA9B,IAAkC,EAAlC;AACA,eAAK,YAAL,CAAkB,MAAM,EAAxB,IAA4B,EAA5B;AACA,eAAK,YAAL,CAAkB,MAAM,EAAxB,IAA4B,EAA5B;;AAEA,gBAAO,MAAM,EAAb;AACH,MA1BD;;AA4BA,SAAM,YAAY,SAAZ,SAAY,OAAM;AACpB,aAAG,CAAC,KAAK,EAAN,IAAa,OAAO,KAAK,EAAZ,KAAiB,QAAjB,IAA6B,OAAO,KAAK,EAAZ,KAAiB,QAA9D,EACI,MAAM,IAAI,KAAJ,CAAU,iBAAV,CAAN;AACJ,aAAG,CAAC,KAAK,CAAN,IAAY,OAAO,KAAK,CAAZ,KAAgB,QAAhB,IAA4B,OAAO,KAAK,CAAZ,KAAgB,QAA3D,EACI,MAAM,IAAI,KAAJ,CAAU,0BAAV,CAAN;AACJ,aAAG,CAAC,KAAK,CAAN,IAAY,OAAO,KAAK,CAAZ,KAAgB,QAAhB,IAA4B,OAAO,KAAK,CAAZ,KAAgB,QAA3D,EACI,MAAM,IAAI,KAAJ,CAAU,0BAAV,CAAN;AACJ,aAAG,CAAC,MAAK,UAAL,CAAgB,KAAK,CAArB,CAAJ,EACI,MAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN;AACJ,aAAG,CAAC,MAAK,UAAL,CAAgB,KAAK,CAArB,CAAJ,EACI,MAAM,IAAI,KAAJ,CAAU,6BAAV,CAAN;AACJ,aAAG,MAAK,UAAL,CAAgB,KAAK,EAArB,CAAH,EACI,MAAM,IAAI,KAAJ,CAAU,qBAAV,CAAN;;AAEJ,aAAM,QAAQ,EAAd;AACA,eAAM,EAAN,GAAW,KAAK,EAAhB;AACA,eAAM,CAAN,GAAU,KAAK,CAAf;AACA,eAAM,CAAN,GAAU,KAAK,CAAf;AACA,eAAM,MAAN,GAAe,KAAK,MAAL,KAAc,SAAd,GAAwB,OAAO,iBAA/B,GAAiD,KAAK,MAArE;AACA,eAAM,QAAN,GAAiB,KAAK,QAAL,IAAiB,KAAlC;;AAEA,eAAK,UAAL,CAAgB,IAAhB,CAAqB,KAArB;AACA,eAAK,UAAL,CAAgB,MAAM,EAAtB,IAA0B,KAA1B;;AAEA,aAAG,CAAC,MAAM,QAAV,EAAmB;AACf,mBAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC,CAAsC,MAAM,CAA5C;AACA,mBAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC,CAAsC,MAAM,EAA5C;AACH;;AAED,eAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC,CAAsC,MAAM,CAA5C;AACA,eAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC,CAAsC,MAAM,EAA5C;;AAEA,eAAK,YAAL,CAAkB,MAAM,CAAxB,EAA2B,IAA3B,CAAgC,MAAM,EAAtC;AACA,eAAK,YAAL,CAAkB,MAAM,CAAxB,EAA2B,IAA3B,CAAgC,MAAM,EAAtC;;AAEA,eAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC;AACA,eAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC;;AAEA,eAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC;AACA,eAAK,kBAAL,CAAwB,MAAM,CAA9B,EAAiC,IAAjC;;AAEA,eAAK,YAAL,CAAkB,MAAM,CAAxB,EAA2B,IAA3B;AACA,eAAK,YAAL,CAAkB,MAAM,CAAxB,EAA2B,IAA3B;;AAEA,eAAK,UAAL,CAAgB,IAAhB,CAAqB,UAAC,CAAD,EAAG,CAAH;AAAA,oBAAO,EAAE,EAAF,CAAK,aAAL,CAAmB,EAAE,EAArB,CAAP;AAAA,UAArB;;AAEA,gBAAO,MAAM,EAAb;AACH,MA/CD;AAgDH,EAtKD,C;;;;;;;;ACFA,KAAM,MAAI,EAAV;AACA,KAAM,MAAM,oBAAQ,CAAR,EAA+B,GAA3C;AACA,KAAM,eAAe,oBAAQ,CAAR,EAA+B,YAApD;AACA,KAAM,WAAW,oBAAQ,CAAR,EAAoC,QAArD;AACA,KAAM,oBAAoB,oBAAQ,CAAR,EAAoC,iBAA9D;;;;;;;;;AASA,KAAI,OAAJ,GAAc,UAAC,CAAD,EAAI,MAAJ,EAAY,MAAZ,EAAqB;AAC/B,SAAI,QAAQ,KAAZ;AACA,SAAM,QAAQ,IAAI,CAAJ,EAAO,MAAP,EAAe,UAAC,CAAD,EAAK;AAC9B,aAAG,EAAE,IAAF,KAAS,MAAZ,EAAmB;AACf,qBAAQ,IAAR;AACA,oBAAO,IAAP;AACH;AACJ,MALa,CAAd;AAMA,SAAG,CAAC,KAAD,IAAU,CAAC,KAAd,EACI,OAAO,EAAP;AACJ,YAAO,aAAa,CAAb,EAAgB,MAAhB,EAAwB,MAAxB,EAAgC,KAAhC,CAAP;AACH,EAXD;;;;;;;;AAmBA,KAAI,QAAJ,GAAe,UAAC,CAAD,EAAK;AAChB,SAAM,SAAO,EAAb;AACA,UAAI,IAAI,IAAE,CAAV,EAAY,IAAE,EAAE,UAAF,CAAa,MAA3B,EAAkC,GAAlC,EAAsC;AAClC,aAAM,KAAK,EAAE,UAAF,CAAa,CAAb,EAAgB,EAA3B;AACA,aAAI,YAAU,IAAd;AACA,aAAM,QAAM,IAAI,CAAJ,EAAM,EAAN,EAAS,YAAI,CAAE,CAAf,EAAgB,UAAC,CAAD,EAAK;AAC7B,iBAAG,EAAE,KAAF,CAAQ,EAAE,KAAV,MAAmB,SAAnB,IAAgC,EAAE,KAAF,CAAQ,EAAE,KAAV,KAAkB,EAAE,KAAF,CAAQ,EAAE,IAAV,CAArD,EAAqE;AACjE,6BAAU,EAAE,KAAZ;AACA,wBAAO,IAAP;AACH;AACJ,UALW,CAAZ;;AAOA,aAAG,cAAY,IAAf,EACI;;AAEJ,aAAI,OAAO,SAAX;AACA,aAAM,UAAQ,EAAd;AACA,iBAAQ,IAAR,CAAa,IAAb;AACA,aAAI,cAAY,IAAhB;AACA,gBAAM,WAAN,EAAkB;AACd,kBAAI,IAAI,KAAE,CAAV,EAAY,KAAE,OAAO,IAAP,CAAY,KAAZ,EAAmB,MAAjC,EAAwC,IAAxC,EAA4C;AACxC,qBAAM,MAAK,OAAO,IAAP,CAAY,KAAZ,EAAmB,EAAnB,CAAX;AACA,qBAAG,CAAC,MAAM,GAAN,MAAY,MAAM,IAAN,IAAY,CAAxB,IAA6B,MAAM,GAAN,MAAY,MAAM,IAAN,CAA1C,KACK,EAAE,aAAF,CAAgB,GAAhB,EAAmB,IAAnB,MAA2B,IADnC,EACwC;AACpC,yBAAG,MAAM,GAAN,MAAY,CAAf,EACI,cAAY,KAAZ;AACJ,4BAAO,GAAP;AACA,6BAAQ,IAAR,CAAa,IAAb;AACA;AACH;AACJ;AACJ;AACD,uBAAY,IAAZ;AACA,aAAI,mCAAmC,CAAC,EAAD,GAAI,CAAC,EAA5C;AACA,gBAAM,eAAe,CAAC,oCAAkC,CAAC,EAAD,GAAI,CAAC,CAAC,EAAN,GAAS,CAAC,EAA7C,IAAiD,CAAC,EAAlD,GAAqD,CAAC,EAAD,GAAI,EAAE,UAAF,CAAa,MAA3F,EAAkG;AAC9F,kBAAI,IAAI,MAAE,CAAV,EAAY,MAAE,OAAO,IAAP,CAAY,KAAZ,EAAmB,MAAjC,EAAwC,KAAxC,EAA4C;AACxC,qBAAM,OAAK,OAAO,IAAP,CAAY,KAAZ,EAAmB,GAAnB,CAAX;AACA,qBAAI,EAAE,aAAF,CAAgB,IAAhB,EAAmB,IAAnB,MAA2B,IAA3B,KACI,SAAK,SAAL,IAAiB,MAAM,IAAN,KAAW,MAAM,SAAN,CAAX,IAA+B,CAAC,QAAQ,QAAR,CAAiB,IAAjB,CADrD,CAAJ,EACgF;AAC5E,yBAAG,SAAK,SAAR,EACI,cAAY,KAAZ;AACJ,4BAAO,IAAP;AACA,6BAAQ,IAAR,CAAa,IAAb;AACA;AACH;AACJ;AACJ;;AAED,aAAG,QAAQ,CAAR,MAAa,QAAQ,QAAQ,MAAR,GAAe,CAAvB,CAAhB,EACI,OAAO,IAAP,CAAY,OAAZ;AACP;AACD,YAAO,MAAP;AACH,EApDD;;;;;;;;AA4DA,KAAI,YAAJ,GAAmB,UAAC,CAAD,EAAK;AACpB,SAAM,OAAO,EAAE,UAAF,CAAa,CAAb,EAAgB,EAA7B;AACA,SAAM,QAAM,EAAZ;AACA,WAAM,IAAN,IAAY,IAAZ;AACA,SAAM,SAAS,EAAC,WAAU,IAAX,EAAgB,YAAhB,EAAf;AACA,SAAI,CAAJ,EAAO,IAAP,EAAa,YAAI,CAAE,CAAnB,EAAoB,UAAC,CAAD,EAAK;AACrB,aAAG,MAAM,EAAE,KAAR,MAAiB,SAApB,EACI,MAAM,EAAE,KAAR,IAAiB,CAAC,MAAM,EAAE,IAAR,CAAlB,CADJ,KAEK,IAAG,MAAM,EAAE,IAAR,MAAgB,MAAM,EAAE,KAAR,CAAnB,EAAmC;AACpC,oBAAO,SAAP,GAAiB,KAAjB;AACA,oBAAO,IAAP;AACH;AACJ,MAPD;AAQA,YAAO,MAAP;AACH,EAdD;;;;;;;;AAsBA,KAAI,qBAAJ,GAA4B,UAAC,CAAD,EAAK;AAC7B,SAAM,UAAU,EAAhB;AACA,OAAE,UAAF,CAAa,GAAb,CAAiB;AAAA,gBAAM,QAAQ,KAAK,EAAb,IAAiB,KAAvB;AAAA,MAAjB;AACA,SAAI,QAAQ,CAAZ;AACA,YAAO,IAAI,2BAAJ,CAAgC,CAAhC,EAAkC,OAAlC,EAA0C,KAA1C,CAAP;AACH,EALD;;AAOA,KAAI,2BAAJ,GAAkC,UAAC,CAAD,EAAG,OAAH,EAAW,KAAX,EAAmB;AACjD,SAAI,OAAK,IAAT;AACA,UAAI,IAAI,IAAE,CAAV,EAAY,IAAE,OAAO,IAAP,CAAY,OAAZ,EAAqB,MAAnC,EAA0C,GAA1C,EAA8C;AAC1C,aAAM,KAAK,OAAO,IAAP,CAAY,OAAZ,EAAqB,CAArB,CAAX;AACA,aAAG,QAAQ,EAAR,MAAc,KAAjB,EAAuB;AACnB,oBAAO,EAAP;AACA;AACH;AACJ;AACD,SAAG,SAAO,IAAV,EAAe,OAAO,KAAP;;AAEf,SAAI,CAAJ,EAAM,IAAN,EAAW,aAAG;AAAC,iBAAQ,EAAE,IAAV,IAAgB,IAAhB,CAAqB,OAAO,KAAP;AAAc,MAAlD,EAAmD,YAAI,CAAE,CAAzD;AACA,YAAO,IAAI,2BAAJ,CAAgC,CAAhC,EAAkC,OAAlC,EAA0C,EAAE,KAA5C,CAAP;AACH,EAbD;;;;;;;;;;AAuBA,KAAI,YAAJ,GAAmB,UAAC,CAAD,EAAI,MAAJ,EAAY,MAAZ,EAAqB;AACpC,SAAM,QAAQ,SAAS,CAAT,EAAY,MAAZ,EAAmB,MAAnB,CAAd;AACA,SAAG,CAAC,KAAJ,EACI,OAAO,EAAP;AACJ,YAAO,kBAAkB,CAAlB,EAAqB,MAArB,EAA6B,MAA7B,EAAqC,KAArC,CAAP;AACH,EALD;;;;;;;AAYA,KAAI,eAAJ,GAAsB,aAAK;AACvB,SAAM,OAAO,EAAb;AACA,SAAM,UAAU,EAAhB;AACA,SAAI,SAAS,EAAE,UAAF,CAAa,CAAb,EAAgB,EAA7B;;AAHuB;AAKnB,iBAAQ,MAAR,IAAgB,IAAhB;AACA,aAAI,WAAW,IAAf;AACA,gBAAO,IAAP,CAAY,OAAZ,EAAqB,GAArB,CAAyB,gBAAM;AAC3B,eAAE,kBAAF,CAAqB,IAArB,EAA2B,GAA3B,CAA+B,aAAG;AAC9B,qBAAM,OAAO,EAAE,UAAF,CAAa,CAAb,CAAb;AACA,qBAAG,QAAQ,KAAK,CAAb,MAAkB,IAAlB,IAA0B,QAAQ,KAAK,CAAb,MAAkB,IAA/C,EAAoD;AAChD,yBAAG,aAAW,IAAX,IAAmB,KAAK,MAAL,GAAY,SAAS,MAA3C,EACI,WAAS,IAAT;AACP;AACJ,cAND;AAOH,UARD;AASA,aAAG,aAAW,IAAd,EACI,eADJ,KAEI;AACA,iBAAG,QAAQ,SAAS,CAAjB,MAAsB,IAAzB,EACI,SAAS,SAAS,CAAlB,CADJ,KAEK,IAAG,QAAQ,SAAS,CAAjB,MAAsB,IAAzB,EACD,SAAS,SAAS,CAAlB;AACJ,kBAAK,IAAL,CAAU,QAAV;AACH;AAxBkB;;AAIvB,YAAM,IAAN,EAAW;AAAA;;AAAA,+BAaH;AAQP;AACD,YAAO,IAAP;AACH,EA3BD;;;;;;;AAkCA,KAAI,aAAJ,GAAoB,aAAK;AACrB,UAAI,IAAI,IAAE,CAAV,EAAa,IAAE,EAAE,UAAF,CAAa,MAA5B,EAAoC,GAApC,EAAwC;AACpC,aAAM,OAAO,EAAE,UAAF,CAAa,CAAb,EAAgB,EAA7B;AACA,aAAI,MAAM,CAAV;AACA,WAAE,YAAF,CAAe,IAAf,EAAqB,GAArB,CAAyB,cAAI;AACzB,oBAAK,EAAE,UAAF,CAAa,EAAb,EAAiB,MAAtB;AACH,UAFD;AAGA,WAAE,YAAF,CAAe,IAAf,EAAqB,GAArB,CAAyB,cAAI;AACzB,oBAAK,EAAE,UAAF,CAAa,EAAb,EAAiB,MAAtB;AACH,UAFD;;AAIA,aAAG,QAAM,CAAT,EACI,OAAO,KAAP;AACP;AACD,YAAO,IAAP;AACH,EAfD;;AAiBA,QAAO,OAAP,GAAiB,GAAjB,C;;;;;;;;AC/MA,QAAO,OAAP,CAAe,GAAf,GAAqB,UAAC,CAAD,EAAI,IAAJ,EAAU,MAAV,EAAkB,OAAlB,EAA4B;AAC7C,cAAO,UAAQ,YAAU,CAAE,CAA3B;AACA,eAAQ,WAAS,YAAU,CAAE,CAA7B;AACA,SAAM,QAAM,EAAZ;AACA,SAAM,QAAM,EAAZ;;AAEA,WAAM,IAAN,CAAW,IAAX;AACA,WAAM,IAAN,IAAY,CAAZ;;AAEA,YAAM,MAAM,MAAZ,EAAmB;AACf,aAAM,OAAO,MAAM,KAAN,EAAb;AACA,aAAG,OAAO,EAAC,YAAD,EAAO,UAAP,EAAP,MAAuB,IAA1B,EACI,OAAO,KAAP;AACJ,cAAI,IAAI,IAAE,CAAV,EAAa,IAAE,EAAE,kBAAF,CAAqB,IAArB,EAA2B,MAA1C,EAAkD,GAAlD,EAAsD;AAClD,iBAAM,QAAQ,EAAE,kBAAF,CAAqB,IAArB,EAA2B,CAA3B,CAAd;AACA,iBAAG,QAAQ,EAAC,YAAD,EAAO,UAAP,EAAY,YAAZ,EAAR,MAA8B,IAAjC,EACI,OAAO,KAAP;AACJ,iBAAG,MAAM,KAAN,MAAe,SAAlB,EAA4B;AACxB,uBAAM,KAAN,IAAa,MAAM,IAAN,IAAY,CAAzB;AACA,uBAAM,IAAN,CAAW,KAAX;AACH;AACJ;AACJ;AACD,YAAO,KAAP;AACH,EAxBD;;AA0BA,QAAO,OAAP,CAAe,YAAf,GAA8B,UAAC,CAAD,EAAI,MAAJ,EAAY,MAAZ,EAAoB,KAApB,EAA4B;AACtD,SAAI,SAAO,MAAX;AACA,SAAM,UAAQ,EAAd;AACA,aAAQ,IAAR,CAAa,MAAb;AACA,YAAM,CAAN,EAAQ;AACJ,aAAG,WAAS,MAAZ,EACI;AACJ,cAAI,IAAI,IAAE,CAAV,EAAY,IAAE,EAAE,kBAAF,CAAqB,MAArB,EAA6B,MAA3C,EAAkD,GAAlD,EAAsD;AAClD,iBAAM,KAAK,EAAE,kBAAF,CAAqB,MAArB,EAA6B,CAA7B,CAAX;AACA,iBAAG,MAAM,EAAN,MAAY,MAAM,MAAN,IAAc,CAA7B,EAA+B;AAC3B,yBAAQ,IAAR,CAAa,EAAb;AACA,0BAAO,EAAP;AACA;AACH;AACJ;AACJ;AACD,YAAO,QAAQ,OAAR,EAAP;AACH,EAjBD,C;;;;;;;;AC1BA,QAAO,OAAP,CAAe,QAAf,GAA0B,UAAC,CAAD,EAAI,MAAJ,EAAa;AACnC,SAAM,QAAM,EAAZ;AACA,SAAM,WAAS,EAAf;AACA,SAAM,UAAQ,EAAd;;AAEA,OAAE,UAAF,CAAa,GAAb,CAAiB,UAAC,IAAD,EAAQ;AACrB,kBAAS,IAAT,CAAc,KAAK,EAAnB;AACA,eAAM,KAAK,EAAX,IAAe,EAAf;AACA,eAAM,KAAK,EAAX,EAAe,IAAf,GAAoB,OAAO,iBAA3B;AACH,MAJD;;AAMA,WAAM,MAAN,EAAc,IAAd,GAAmB,CAAnB;AACA,YAAM,SAAS,MAAT,GAAgB,CAAtB,EAAwB;AACpB,aAAI,WAAS,OAAO,iBAApB;AACA,aAAI,aAAW,CAAf;AACA,aAAI,OAAK,IAAT;AACA,cAAI,IAAI,IAAE,CAAV,EAAY,IAAE,OAAO,IAAP,CAAY,KAAZ,EAAmB,MAAjC,EAAwC,GAAxC,EAA4C;AACxC,iBAAM,KAAK,OAAO,IAAP,CAAY,KAAZ,EAAmB,CAAnB,CAAX;AACA,iBAAG,MAAM,EAAN,EAAU,IAAV,GAAe,QAAf,IAA2B,QAAQ,EAAR,MAAc,IAA5C,EAAiD;AAC7C,4BAAS,MAAM,EAAN,EAAU,IAAnB;AACA,wBAAK,EAAL;AACA,8BAAW,CAAX;AACH;AACJ;AACD,aAAG,SAAO,IAAV,EACI;AACJ,iBAAQ,IAAR,IAAc,IAAd;;AAEA,cAAI,IAAI,KAAE,CAAV,EAAY,KAAE,EAAE,kBAAF,CAAqB,IAArB,EAA2B,MAAzC,EAAgD,IAAhD,EAAoD;AAChD,iBAAM,QAAQ,EAAE,kBAAF,CAAqB,IAArB,EAA2B,EAA3B,CAAd;AACA,iBAAM,MAAM,MAAM,IAAN,EAAY,IAAZ,GAAmB,EAAE,UAAF,CAAa,EAAE,aAAF,CAAgB,IAAhB,EAAqB,KAArB,CAAb,EAA0C,MAAzE;AACA,iBAAG,MAAI,MAAM,KAAN,EAAa,IAApB,EAAyB;AACrB,uBAAM,KAAN,EAAa,IAAb,GAAkB,GAAlB;AACA,uBAAM,KAAN,EAAa,IAAb,GAAkB,IAAlB;AACH;AACJ;AACJ;AACD,YAAO,KAAP;AACH,EAtCD;;AAwCA,QAAO,OAAP,CAAe,iBAAf,GAAmC,UAAC,CAAD,EAAI,MAAJ,EAAY,MAAZ,EAAoB,KAApB,EAA4B;AAC3D,SAAM,UAAU,EAAhB;AACA,SAAI,OAAO,MAAX;AACA,aAAQ,OAAR,CAAgB,MAAhB;AACA,YAAM,MAAM,IAAN,EAAY,IAAZ,KAAmB,SAAzB,EAAmC;AAC/B,iBAAQ,OAAR,CAAgB,MAAM,IAAN,EAAY,IAA5B;AACA,gBAAK,MAAM,IAAN,EAAY,IAAjB;AACH;AACD,YAAO,OAAP;AACH,EATD,C;;;;;;ACxCA;;AACA,QAAO,OAAP,GAAiB,UAAS,CAAT,EAAY;AACzB,SAAM,MAAM,IAAI,IAAI,GAAR,EAAZ;;AAEA,YAAO,GAAP,GAAa,EAAb;AACA,YAAO,GAAP,CAAW,QAAX,GAAsB,EAAtB;AACA,SAAM,aAAa,IAAI,GAAJ,CAAQ,OAAO,GAAf,EAAoB,UAApB,CAAnB;AACA,gBAAW,cAAX,CAA0B,UAAC,QAAD;AAAA,gBAAY,EAAE,YAAF,CAAe,WAAW,QAA1B,CAAZ;AAAA,MAA1B;;AAEA,SAAM,wBAAwB,IAAI,GAAJ,CAAQ,OAAO,GAAf,EAAoB,UAApB,EAAgC,CAAC,YAAD,EAAe,YAAf,EAA6B,cAA7B,EAA6C,aAA7C,EAA4D,gBAA5D,CAAhC,CAA9B;AACA,2BAAsB,cAAtB,CAAqC,UAAC,QAAD;AAAA,gBAAY,EAAE,YAAF,CAAe,WAAW,QAA1B,CAAZ;AAAA,MAArC;;AAEA,SAAI,GAAJ,CAAQ,CAAR,EAAW,UAAX;AACA,SAAI,GAAJ,CAAQ,EAAE,CAAV,EAAa,OAAb;;AAEA,SAAM,UAAU,IAAI,SAAJ,CAAc,SAAd,CAAhB;AACA,aAAQ,GAAR,CAAY,EAAE,MAAF,CAAS,OAAT,CAAiB,OAA7B,EAAsC,IAAtC;AACA,aAAQ,GAAR,CAAY,EAAE,MAAF,CAAS,OAAT,CAAiB,OAA7B,EAAsC,OAAtC;AACA,aAAQ,GAAR,CAAY,EAAE,MAAF,CAAS,OAAT,CAAiB,OAA7B,EAAsC,OAAtC;AACA,aAAQ,GAAR,CAAY,EAAE,MAAF,CAAS,OAAT,CAAiB,OAA7B,EAAsC,QAAtC;;AAEA,SAAM,gBAAgB,IAAI,SAAJ,CAAc,eAAd,CAAtB;AACA,mBAAc,GAAd,CAAkB,EAAE,MAAF,CAAS,MAA3B,EAAmC,QAAnC,EAA6C,GAA7C,EAAkD,GAAlD;AACA,mBAAc,GAAd,CAAkB,CAAlB,EAAqB,cAArB;;AAEA,SAAM,cAAc,IAAI,SAAJ,CAAc,aAAd,CAApB;AACA,iBAAY,GAAZ,CAAgB,EAAE,MAAF,CAAS,IAAzB,EAA+B,QAA/B,EAAyC,EAAzC,EAA6C,GAA7C;AACA,iBAAY,GAAZ,CAAgB,EAAE,MAAF,CAAS,IAAzB,EAA+B,KAA/B,EAAsC,CAAtC,EAAyC,EAAzC,EAA6C,IAA7C,CAAkD,CAAlD;AACA,iBAAY,GAAZ,CAAgB,CAAhB,EAAmB,YAAnB;;AAEA,SAAM,mBAAmB,IAAI,SAAJ,CAAc,kBAAd,CAAzB;AACA,sBAAiB,GAAjB,CAAqB,EAAE,MAAF,CAAS,SAA9B,EAAyC,YAAzC,EAAuD,EAAvD,EAA2D,GAA3D;AACA,sBAAiB,GAAjB,CAAqB,EAAE,MAAF,CAAS,SAA9B,EAAyC,eAAzC,EAA0D,EAA1D,EAA8D,GAA9D;AACA,sBAAiB,GAAjB,CAAqB,EAAE,MAAF,CAAS,SAA9B,EAAyC,WAAzC,EAAsD,CAAC,YAAD,EAAe,UAAf,CAAtD;AACA,sBAAiB,GAAjB,CAAqB,CAArB,EAAwB,iBAAxB;;AAEA,SAAM,aAAa,IAAI,SAAJ,CAAc,aAAd,CAAnB;AACA,gBAAW,GAAX,CAAe,CAAf,EAAkB,oBAAlB,EAAwC,CAAC,SAAD,EAAY,cAAZ,CAAxC;;AAEA,SAAM,QAAQ,IAAI,SAAJ,CAAc,WAAd,CAAd;AACA,WAAM,GAAN,CAAU,CAAV,EAAa,gBAAb;AACA,WAAM,GAAN,CAAU,CAAV,EAAa,aAAb;AACA,WAAM,GAAN,CAAU,CAAV,EAAa,iBAAb;AACA,WAAM,GAAN,CAAU,CAAV,EAAa,eAAb;AACH,EA3CD,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2177946c8c6437932054\n **/","const Gjs = require(\"./Gjs.js\");\nconst GUI = require(\"./ui.js\");\nconst gjs = new Gjs(\"gcanvas\");\ngjs.loadFromFile(\"tests/Basic1.json\");\nGUI(gjs);\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","module.exports = function(canvas){\n    const utils = require(\"./utils.js\");\n    const CanvasManager = require(\"./CanvasManager.js\");\n    const Camera = require(\"./Camera.js\");\n    const Graph = require(\"./Graph.js\");\n    const alg = require(\"./algorithms.js\");\n    const g = new Graph();\n    const canvasManager = new CanvasManager(canvas);\n    const camera = new Camera(canvasManager,g);\n    this.g=g;\n    let hoverNodeId=null;\n    let highlightNodeId=[];\n    let highlightEdgeId=[];\n    let dragNodeId=null;\n    let edgeSourceNodeId=null;\n    let pathFindingNodes=[];\n\n    const specialMarked={};\n    specialMarked.nodes=[];\n    specialMarked.edges=[];\n\n    //Graph Functions\n    this.loadFromFile = (file)=>{\n        utils.loadJsonFromFile(file,(json)=>{\n            cleanAllProps();\n            pathFindingNodes=[];\n            dragNodeId=null;\n            edgeSourceNodeId=null;\n            hoverNodeId=null;\n            highlightEdgeId=[];\n            highlightNodeId=[];\n            specialMarked.nodes=[];\n            specialMarked.edges=[];\n            g.clear();\n            if(json.hasOwnProperty(\"nodes\") && json.hasOwnProperty(\"edges\")){\n                g.addNode(json.nodes);\n                g.addEdge(json.edges);\n            }\n        });\n    };\n\n    const addToPathFinding = (id)=>{\n        if(id===null)return;\n        pathFindingNodes.push(id);\n        if(pathFindingNodes.length===2){\n            if(pathFindingNodes[0]!==pathFindingNodes[1]) {\n                cleanAllProps();\n                const trace = alg[this.pathFinderFunction](g,pathFindingNodes[0], pathFindingNodes[1]);\n                for (let i = 0; i < trace.length; i++) {\n                    const node = trace[i];\n                    setNodeProp(node, \"trace\", true);\n                    if (i < trace.length - 1) {\n                        const edge = g.getEdgeIdByST(node, trace[i + 1]);\n                        setEdgeProp(edge, \"trace\", true);\n                    }\n                }\n                setNodeProp(trace[0], \"trace_s\", true);\n                setNodeProp(trace[trace.length - 1], \"trace_t\", true);\n            }\n            pathFindingNodes=[];\n        }\n        else if(pathFindingNodes.length>2){\n            pathFindingNodes=[];\n        }\n    };\n\n    const searchMinCycle = function(){\n        const traces=alg.BFSCycle(g);\n        let min_length=Number.POSITIVE_INFINITY;\n        let min_i=-1;\n        for(let i=0;i<traces.length;i++){\n            if(traces[i].length<min_length){\n                min_length=traces[i].length;\n                min_i=i;\n            }\n        }\n        if(min_i===-1)return;\n\n        for(let i=0;i<traces[min_i].length;i++){\n            const node = traces[min_i][i];\n            setNodeProp(node,\"cycle\", true);\n            if (i < traces[min_i].length - 1) {\n                const edge = g.getEdgeIdByST(node, traces[min_i][i + 1]);\n                setEdgeProp(edge, \"cycle\", true);\n            }\n        }\n    };\n\n    const isBipartite = function(){\n        const bipartite=alg.BFSBipartite(g);\n        const trace = bipartite.trace;\n        Object.keys(trace).map((id)=>{\n            setNodeProp(id,trace[id]?\"bipartite1\":\"bipartite2\",true);\n        });\n        return bipartite;\n    };\n\n    const spanningTreeMin = function(){\n        alg.SpanningTreeMin(g).map(edge=>setEdgeProp(edge.id,\"spanning_tree\",true));\n    };\n\n    //util functions\n    const setNodeProp = (id,prop,special)=>{\n        if(id===null || id===undefined)return;\n        if(specialMarked.nodes.includes(id) && !special)return;\n        g.nodesIndex[id].prop=prop;\n        if(special===true)\n            specialMarked.nodes.push(id);\n    };\n\n    const setEdgeProp = (id,prop,special)=>{\n        if(id===null || id===undefined)return;\n        if(specialMarked.edges.includes(id) && !special)return;\n        g.edgesIndex[id].prop=prop;\n        if(special===true)\n            specialMarked.edges.push(id);\n    };\n\n    const cleanAllProps = ()=>{\n        specialMarked.nodes=[];\n        specialMarked.edges=[];\n        g.edgesArray.map((edge)=>edge.prop=\"\");\n        g.nodesArray.map((node)=>node.prop=\"\");\n    };\n\n    const getNodeIdByCoords = (x,y)=>{\n        let nodeId=null;\n        const _ = camera.viewportCoords(x,y);\n        g.nodesArray.map((node)=>{\n            if(_.x >= node.x-node.size && _.x <= node.x+node.size && _.y >= node.y-node.size && _.y <= node.y+node.size)\n                nodeId=node.id;\n        });\n        return nodeId;\n    };\n\n\n    //events\n    const onNodeHover = (id)=>{\n        setNodeProp(hoverNodeId,\"\");\n        setNodeProp(id,\"hover\");\n        hoverNodeId=id;\n\n        highlightNodeId.map((_id)=>setNodeProp(_id));\n        highlightNodeId=[];\n        highlightEdgeId.map((_id)=>setEdgeProp(_id));\n        highlightEdgeId=[];\n\n        if(id===null)return;\n\n        g.nodeNeighbourNodes[id].map((_id)=>{\n            setNodeProp(_id,\"highlight\");\n            highlightNodeId.push(_id);\n        });\n\n        g.nodeNeighbourEdges[id].map((_id)=>{\n            setEdgeProp(_id,\"highlight\");\n            highlightEdgeId.push(_id);\n        });\n\n        g.nodeTargetOf[id].map(_id=>{\n            if(g.edgesIndex[_id].directed) {\n                setEdgeProp(_id, \"highlight2\");\n                highlightEdgeId.push(_id);\n                setNodeProp(g.edgesIndex[_id].s, \"highlight2\");\n                highlightNodeId.push(g.edgesIndex[_id].s);\n            }\n        });\n    };\n\n    const onNodeDrag = (id,dx,dy)=>{\n        g.nodesIndex[id].x+=dx;\n        g.nodesIndex[id].y+=dy;\n    };\n\n    const onViewportDrag = (dx,dy)=>{\n        camera.viewportOffset.x+=dx;\n        camera.viewportOffset.y+=dy;\n    };\n\n    canvasManager.onmousemove=(e)=>{\n        camera.pointer=canvasManager.mouse;\n        onNodeHover(getNodeIdByCoords(e.x,e.y));\n    };\n\n    canvasManager.ondrag=(e)=>{\n        if(dragNodeId===null)\n            onViewportDrag(e.dx,e.dy);\n        else\n            onNodeDrag(dragNodeId,e.dx/camera.zoom(),e.dy/camera.zoom());\n    };\n\n    canvasManager.onmousedown=(e)=>{\n        dragNodeId=getNodeIdByCoords(e.x,e.y);\n    };\n\n    canvasManager.onmouseup=()=>{\n        dragNodeId=null;\n    };\n\n    canvasManager.onclick=(e)=>{\n        cleanAllProps();\n        addToPathFinding(getNodeIdByCoords(e.x,e.y));\n    };\n\n    canvasManager.ondblclick=(e)=>{\n        const id = getNodeIdByCoords(e.x,e.y);\n        if(id===null){\n            const _=camera.viewportCoords(e.x,e.y);\n            const newNode = g.createNode(_.x,_.y);\n            if(edgeSourceNodeId===null)\n                edgeSourceNodeId=newNode;\n            else{\n                g.createEdge(edgeSourceNodeId,newNode);\n                edgeSourceNodeId=null;\n            }\n        }\n        else {\n            if (edgeSourceNodeId === null)\n                edgeSourceNodeId = id;\n            else {\n                g.createEdge(edgeSourceNodeId, id);\n                edgeSourceNodeId = null;\n            }\n        }\n    };\n\n    canvasManager.onmousewheel=(e)=>{\n        camera.zoom(e.deltaY);\n    };\n\n    //Layouts\n    this.setLayout=(layout,data)=>{\n        g.nodesArray.map((node,i)=>{\n            const c = layout({\n                nodeId:node.id,\n                nodeIndex:i,\n                nodesLength:g.nodesArray.length,\n                data:data\n            });\n            node.x=c.x;\n            node.y=c.y;\n        });\n    };\n\n    this.layout={};\n    this.layout.circle={};\n    this.layout.circle.radius=150;\n    this.layout.grid={};\n    this.layout.grid.offset=70;\n    this.layout.grid.row=3;\n    this.layout.bipartite={};\n    this.layout.bipartite.partOffset=200;\n    this.layout.bipartite.elementOffset=70;\n    this.layout.bipartite.direction='horizontal';\n\n    //Pathfinder\n    this.pathFinderFunction = \"BFSPath\";\n\n    //GUI\n    this.layoutCircle = ()=>this.setLayout(circleLayout,this.layout.circle);\n    this.layoutGrid = ()=>this.setLayout(gridLayout,this.layout.grid);\n    this.layoutBipartite = ()=>{\n        const bipartite = isBipartite();\n        if(bipartite.bipartite){\n            this.layout.bipartite.leftIndex=0;\n            this.layout.bipartite.rightIndex=0;\n            this.layout.bipartite.trace=bipartite.trace;\n            this.setLayout(bipartiteLayout,this.layout.bipartite);\n        }\n    };\n    this.searchMinCycle = searchMinCycle;\n    this.isBipartite = ()=>alert(isBipartite().bipartite);\n    this.spanningTreeMin = spanningTreeMin;\n    this.isFlowNetwork = ()=>alert(alg.isFlowNetwork(g));\n    this.camera = camera;\n    this.saveFile = ()=>{\n        const data=JSON.stringify({nodes:g.nodesArray,edges:g.edgesArray});\n        saveAs(new Blob([data], {type: \"application/json;charset=utf-8\"}),utils.randomString(10)+\".json\");\n    }\n};\n\n//layout functions\nconst circleLayout = function(e){\n    const x=(e.data.radius*Math.cos(e.nodeIndex*2*Math.PI/e.nodesLength))>>0;\n    const y=(e.data.radius*Math.sin(e.nodeIndex*2*Math.PI/e.nodesLength))>>0;\n    return {x,y};\n};\nconst gridLayout = function(e){\n    const x=e.data.offset*(e.nodeIndex%e.data.row);\n    const y=e.data.offset*((e.nodeIndex/e.data.row)<<0);\n    return {x,y};\n};\nconst bipartiteLayout = function(e) {\n    let x=e.data.trace[e.nodeId]?0:e.data.partOffset;\n    let y=e.data.trace[e.nodeId]?((e.data.leftIndex++)*e.data.elementOffset):((e.data.rightIndex++)*e.data.elementOffset);\n    if(e.data.direction==='vertical'){\n        const _=x;\n        x=y;\n        y=_;\n    }\n    return {x,y};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./Gjs.js\n **/","\"use strict\";\nmodule.exports.loadJsonFromFile = (file, callback)=>{\n    let path = location.pathname.split('/');\n    path.pop();\n    path = path.join(\"/\") + \"/\";\n    module.exports.loadJSonFromURL(\"http://\" + location.host + path + file, callback);\n};\n\nmodule.exports.loadJSonFromURL = (url, callback)=>{\n    var _ = new XMLHttpRequest();\n    _.overrideMimeType(\"application/json\");\n    _.open('GET', url, true);\n    _.onreadystatechange = function () {\n        if (_.readyState == 4 && _.status == \"200\") {\n            callback(JSON.parse(_.responseText));\n        }\n    };\n    _.send(null);\n};\n\nmodule.exports.randomString = l=>{\n    let r = \"\";\n    while (l--) {\n        r += String.fromCharCode(((Math.random() * 25) >> 0) + 65);\n    }\n    return r;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./utils.js\n **/","module.exports = function (canvas){\n    const self = this;\n\n    if(typeof canvas === 'string')\n        canvas = document.getElementById(canvas);\n    this.canvas = canvas;\n    this.ctx = this.canvas.getContext(\"2d\");\n\n    const _canvas={};\n\n    const _mouse={};\n    _mouse.x=0;\n    _mouse.y=0;\n    _mouse.over=false;\n    _mouse.down=false;\n    this.mouse = _mouse;\n\n    this.canvas.onmousedown=(e)=>{\n        _mouse.down=true;\n        const {x,y}=canvasCoords(e.clientX,e.clientY);\n        this.onmousedown({x,y});\n    };\n    this.canvas.onmouseup=(e)=>{\n        _mouse.down=false;\n        const {x,y}=canvasCoords(e.clientX,e.clientY);\n        this.onmouseup({x,y});\n    };\n\n    this.canvas.onmouseover=()=>_mouse.over=true;\n    this.canvas.onmouseout=()=>_mouse.over=false;\n\n    this.canvas.onmousemove=(e)=>{\n        if(!_mouse.over)return;\n\n        const {x,y}=canvasCoords(e.clientX,e.clientY);\n        const dx = (x - _mouse.x);\n        const dy = (y - _mouse.y);\n\n        if(_mouse.down)\n            self.ondrag({dx,dy,x,y});\n        else\n            self.onmousemove({x,y});\n\n        _mouse.x=x;\n        _mouse.y=y;\n    };\n\n    this.canvas.onclick=()=>{\n        self.onclick({x:_mouse.x,y:_mouse.y});\n    };\n\n    this.canvas.ondblclick=()=>{\n        self.ondblclick({x:_mouse.x,y:_mouse.y});\n    };\n\n    this.canvas.addEventListener('mousewheel',(e)=>self.onmousewheel(e));\n\n    const canvasCoords = (_x,_y)=>{\n        const x = _x-_canvas.box.left;\n        const y = _y-_canvas.box.top;\n        return {x,y};\n    };\n\n    const _onresize = ()=>{\n        self.canvas.width=window.innerWidth;\n        self.canvas.height=window.innerHeight;\n        _canvas.box=self.canvas.getBoundingClientRect();\n    };\n    window.onresize=_onresize;\n    _onresize();\n\n\n    /**\n     * Events\n     */\n    this.onmousemove=()=>{};\n    this.onclick=()=>{};\n    this.ondblclick=()=>{};\n    this.ondrag=()=>{};\n    this.onmousedown=()=>{};\n    this.onmouseup=()=>{};\n    this.onmousewheel=()=>{};\n\n    /**\n     * Methods\n     */\n\n    this.clear = (color)=>{\n        self.ctx.fillStyle = color;\n        self.ctx.fillRect(0,0,self.canvas.width,self.canvas.height);\n    };\n}\n\n\n/** WEBPACK FOOTER **\n ** ./CanvasManager.js\n **/","const cameraSettings = {\n    viewport:{x:-400,y:-400},\n    nodeColor:{\n        \"\":\"#DD5A5A\",\n        \"hover\":\"#4E9999\",\n        \"highlight\":\"#768DCC\",\n        \"highlight2\":\"#76DDAC\",\n        \"trace\":\"#CE44F4\",\n        \"trace_s\":\"#5021CC\",\n        \"trace_t\":\"#CC1205\",\n        \"cycle\":\"#A1F69B\",\n        \"bipartite1\":\"#FF5600\",\n        \"bipartite2\":\"#0065FF\"\n    },\n    bgColor:\"#F2F5FC\",\n    edgeColor:{\n        \"\":\"#E87C7C\",\n        \"highlight\":\"#94A4CC\",\n        \"highlight2\":\"#94D4AC\",\n        \"trace\":\"#CE44F4\",\n        \"cycle\":\"#A1F69B\",\n        \"spanning_tree\":\"#26ca8f\"\n    },\n    edgeWidth:{\n        \"\":4\n    },\n    multipleEdgeOffset:20,\n    arrowOffset:{\n        x:10,\n        y:10\n    }\n};\n\nmodule.exports = function (canvasManager,g,cfg){\n    cfg=cfg||cameraSettings;\n\n    const _slow_render = localStorage.getItem(\"slowRender\");\n\n    const ctx = canvasManager.ctx;\n    this.viewportOffset={x:0,y:0};\n\n    let zoomFactor=1;\n\n    let drawedEdgesByST={};\n\n    const redraw = ()=>{\n        startRender();\n        edgeRender();\n        nodeRender();\n        endRender();\n        if(_slow_render!==null)\n            setTimeout(()=>requestAnimationFrame(redraw),_slow_render);\n        else\n            requestAnimationFrame(redraw);\n    };\n    requestAnimationFrame(redraw);\n\n    const startRender = ()=>{\n        canvasManager.clear(cfg.bgColor);\n        ctx.save();\n        ctx.scale(zoomFactor,zoomFactor);\n        ctx.translate(-viewport().x,-viewport().y);\n    };\n\n    const endRender = ()=>{\n        ctx.restore();\n    };\n\n    const nodeRender = ()=>{\n        g.nodesArray.map((node)=>{\n            ctx.fillStyle=cfg.nodeColor.hasOwnProperty(node.prop)?cfg.nodeColor[node.prop]:cfg.nodeColor[\"\"];\n            ctx.beginPath();\n            ctx.arc(node.x,node.y,node.size,0,2*Math.PI,false);\n            ctx.fill();\n            ctx.closePath();\n\n            const font_size = node.size+5;\n            let offset=-font_size/2;\n            ctx.font=font_size+\"px monospace\";\n            ctx.fillStyle=\"#0c0c0c\";\n            if(this.options.display.label===true && node.label!==\"\") {\n                ctx.fillText(node.label, node.x + node.size, node.y + offset);\n                offset=offset+font_size;\n            }\n            if(this.options.display.id===true) {\n                ctx.fillText(node.id, node.x + node.size, node.y + offset);\n                offset=offset+font_size;\n            }\n            if(this.options.display.value===true)\n                ctx.fillText(JSON.stringify(node.value), node.x + node.size, node.y + offset);\n        });\n    };\n\n    const edgeRender = ()=>{\n        drawedEdgesByST={};\n        ctx.lineWidth=cfg.edgeWidth[\"\"];\n        ctx.font=\"16px monospace\";\n        ctx.fillStyle=\"#0c0c0c\";\n        g.edgesArray.map((edge)=>{\n            const offsetI = [edge.s,edge.t].sort();\n            drawedEdgesByST[offsetI]=drawedEdgesByST[offsetI]||[];\n            if(drawedEdgesByST[offsetI].indexOf(edge.id)<0)\n                drawedEdgesByST[offsetI].push(edge.id);\n            drawEdge(edge,offsetI);\n        });\n    };\n\n    const drawEdge = (edge,offsetI)=>{\n        const cOffset = drawedEdgesByST[offsetI].indexOf(edge.id);\n        const s={x:g.nodesIndex[edge.s].x,y:g.nodesIndex[edge.s].y};\n        const t={x:g.nodesIndex[edge.t].x,y:g.nodesIndex[edge.t].y};\n        const distance = Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2));\n        const angle = Math.atan2(t.y-s.y,t.x-s.x);\n        const offset={x:distance/2,y:cOffset*cfg.multipleEdgeOffset};\n        ctx.strokeStyle=cfg.edgeColor.hasOwnProperty(edge.prop)?cfg.edgeColor[edge.prop]:cfg.edgeColor[\"\"];\n        ctx.save();\n        ctx.translate(s.x,s.y);\n        ctx.rotate(angle);\n        ctx.beginPath();\n        ctx.moveTo(0,0);\n        ctx.bezierCurveTo(offset.x,offset.y,offset.x,offset.y,distance,0);\n        ctx.stroke();\n        ctx.closePath();\n        if(edge.directed){\n            ctx.beginPath();\n            ctx.moveTo(distance-cfg.arrowOffset.x,0);\n            ctx.lineTo(distance-cfg.arrowOffset.x*2,-cfg.arrowOffset.y);\n            ctx.moveTo(distance-cfg.arrowOffset.x,0);\n            ctx.lineTo(distance-cfg.arrowOffset.x*2,cfg.arrowOffset.y);\n            ctx.stroke();\n            ctx.closePath();\n        }\n        if(this.options.display.weight===true) {\n            const edgeText = edge.weight === Number.POSITIVE_INFINITY ? \"inf\" : edge.weight;\n            if(angle<-Math.PI/2 || angle>Math.PI/2) {\n                ctx.save();\n                ctx.rotate(Math.PI);\n                ctx.fillText(edgeText, -offset.x, -offset.y);\n                ctx.restore();\n            }\n            else\n                ctx.fillText(edgeText, offset.x, offset.y);\n        }\n        ctx.restore();\n    };\n\n    const viewport = ()=>{\n        const x = (cfg.viewport.x-this.viewportOffset.x)/zoomFactor;\n        const y = (cfg.viewport.y-this.viewportOffset.y)/zoomFactor;\n        return {x,y};\n    };\n\n    this.zoom = (dy)=>{\n        if(dy===undefined)\n            return zoomFactor;\n        else\n            zoomFactor=zoomFactor-dy/(2000/zoomFactor);\n    };\n\n    this.viewportCoords = (x,y)=>{\n        x = x/zoomFactor+viewport().x;\n        y = y/zoomFactor+viewport().y;\n        return {x,y};\n    };\n\n    //GUI vars\n    this.options={};\n    this.options.display={};\n    this.options.display.id=true;\n    this.options.display.label=true;\n    this.options.display.value=true;\n    this.options.display.weight=true;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./Camera.js\n **/","'use strict';\n\nmodule.exports = function (settings){\n    let _NODE_ID_GEN = 0;\n    let _EDGE_ID_GEN = 0;\n    settings = settings || {};\n\n    /**\n     * Arrays of nodes and edges\n     * @type {Array}\n     */\n    this.nodesArray=[];\n    this.edgesArray=[];\n\n    /**\n     * Index of nodes and edges\n     * @type {{}}\n     */\n    this.nodesIndex={};\n    this.edgesIndex={};\n\n    /**\n     * Node neighbour nodes and edges\n     */\n    this.nodeNeighbourNodes = {};\n    this.nodeNeighbourEdges = {};\n\n    /**\n     * Node's edges by targer/source\n     */\n    this.nodeTargetOf = {};\n    this.nodeSourceOf = {};\n\n    /**\n     * Add node/nodes to graph\n     * @param {Array|Object} node\n     */\n    this.addNode = node=>{\n        node = Array.isArray(node) ? node : [node];\n        node.map((i)=>__addNode(i));\n    };\n    /**\n     * Add edge/edges to graph\n     * @param {Array|Object} edge\n     */\n    this.addEdge = edge=>{\n        edge = Array.isArray(edge) ? edge : [edge];\n        edge.map((i)=>__addEdge(i));\n    };\n\n    this.createNode = (x,y)=>{\n        return __addNode({id:\"NODE!!_\"+_NODE_ID_GEN++,x,y});\n    };\n    this.createEdge = (s,t)=>{\n        return __addEdge({id:\"EDGE!!_\"+_EDGE_ID_GEN++,s,t});\n    };\n\n    this.getEdgeIdByST = (source,target)=>{\n        for(let i=0;i<this.nodeNeighbourEdges[source].length;i++){\n            const id = this.nodeNeighbourEdges[source][i];\n            const edge = this.edgesIndex[id];\n            if(edge.s === source && edge.t === target ||\n                edge.t === source && edge.s === target)\n                return id;\n        }\n        return null;\n    };\n\n    this.clear = ()=>{\n        this.nodesArray=[];\n        this.edgesArray=[];\n        this.nodesIndex={};\n        this.edgesIndex={};\n        this.nodeNeighbourNodes={};\n        this.nodeNeighbourEdges={};\n        this.nodeTargetOf = {};\n        this.nodeSourceOf = {};\n    };\n\n    this.getAdjacencyMatrix = ()=>{\n        let matrix = [];\n        for(let i=0;i<this.nodesArray.length;i++) {\n            matrix[i]=[];\n            for(let j=0;j<this.nodesArray.length;j++)\n                if(this.nodeNeighbourNodes[this.nodesArray[i].id].includes(this.nodesArray[j].id))\n                    matrix[i][j] = 1;\n                else\n                    matrix[i][j] = 0;\n        }\n        return matrix;\n    };\n\n    const __addNode = node=>{\n        if(!node.id || (typeof node.id!=='string' && typeof node.id!=='number'))\n            throw new Error(\"Invalid node ID\");\n        if(this.nodesIndex[node.id])\n            throw new Error(\"Node already exists\");\n\n        const _node={};\n        _node.label=node.label||\"\";\n        _node.size=node.size||10;\n        _node.id = node.id;\n        _node.value=node.value||{};\n\n        _node.x = node.x||0;\n        _node.y = node.y||0;\n\n        _node.active = false;\n        _node.highlight = false;\n\n        this.nodesArray.push(_node);\n        this.nodesIndex[_node.id]=_node;\n        this.nodeNeighbourNodes[_node.id]=[];\n        this.nodeNeighbourEdges[_node.id]=[];\n        this.nodeSourceOf[_node.id]=[];\n        this.nodeTargetOf[_node.id]=[];\n\n        return _node.id;\n    };\n\n    const __addEdge = edge=>{\n        if(!edge.id || (typeof edge.id!=='string' && typeof edge.id!=='number'))\n            throw new Error(\"Invalid edge ID\");\n        if(!edge.t || (typeof edge.t!=='string' && typeof edge.t!=='number'))\n            throw new Error(\"Invalid edge Target node\");\n        if(!edge.s || (typeof edge.s!=='string' && typeof edge.s!=='number'))\n            throw new Error(\"Invalid edge Source node\");\n        if(!this.nodesIndex[edge.s])\n            throw new Error(\"Edge Source node not exists\");\n        if(!this.nodesIndex[edge.t])\n            throw new Error(\"Edge Target node not exists\");\n        if(this.edgesIndex[edge.id])\n            throw new Error(\"Edge already exists\");\n\n        const _edge = {};\n        _edge.id = edge.id;\n        _edge.s = edge.s;\n        _edge.t = edge.t;\n        _edge.weight = edge.weight===undefined?Number.POSITIVE_INFINITY:edge.weight;\n        _edge.directed = edge.directed || false;\n\n        this.edgesArray.push(_edge);\n        this.edgesIndex[_edge.id]=_edge;\n\n        if(!_edge.directed){\n            this.nodeNeighbourNodes[_edge.t].push(_edge.s);\n            this.nodeNeighbourEdges[_edge.t].push(_edge.id);\n        }\n\n        this.nodeNeighbourNodes[_edge.s].push(_edge.t);\n        this.nodeNeighbourEdges[_edge.s].push(_edge.id);\n\n        this.nodeTargetOf[_edge.t].push(_edge.id);\n        this.nodeSourceOf[_edge.s].push(_edge.id);\n\n        this.nodeNeighbourNodes[_edge.t].sort();\n        this.nodeNeighbourEdges[_edge.t].sort();\n\n        this.nodeNeighbourNodes[_edge.s].sort();\n        this.nodeNeighbourEdges[_edge.s].sort();\n\n        this.nodeTargetOf[_edge.t].sort();\n        this.nodeSourceOf[_edge.s].sort();\n\n        this.nodesArray.sort((a,b)=>a.id.localeCompare(b.id));\n\n        return _edge.id;\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./Graph.js\n **/","const alg={};\nconst BFS = require(\"./algorithms/bfs.js\").BFS;\nconst BFSTracePath = require(\"./algorithms/bfs.js\").BFSTracePath;\nconst Dijkstra = require(\"./algorithms/dijkstra.js\").Dijkstra;\nconst DijkstraTracePath = require(\"./algorithms/dijkstra.js\").DijkstraTracePath;\n/**\n * Find shortest path\n * @param g Graph\n * @param source Source node\n * @param target Target node\n * @returns {[]} Arrays with id's of path nodes\n * @constructor\n */\nalg.BFSPath = (g, source, target)=>{\n    let found = false;\n    const trace = BFS(g, source, (e)=>{\n        if(e.node===target){\n            found = true;\n            return true;\n        }\n    });\n    if(!trace || !found)\n        return [];\n    return BFSTracePath(g, source, target, trace);\n};\n\n/**\n * Find some (~all) cycles in graph\n * @param g Graph\n * @returns {Array} Array of cycles paths\n * @constructor\n */\nalg.BFSCycle = (g)=>{\n    const traces=[];\n    for(let i=0;i<g.nodesArray.length;i++){\n        const id = g.nodesArray[i].id;\n        let CycleNode=null;\n        const trace=BFS(g,id,()=>{},(e)=>{\n            if(e.trace[e.child]!==undefined && e.trace[e.child]>=e.trace[e.node]){\n                CycleNode=e.child;\n                return true;\n            }\n        });\n\n        if(CycleNode===null)\n            continue;\n\n        let node = CycleNode;\n        const s_trace=[];\n        s_trace.push(node);\n        let backtracing=true;\n        while(backtracing){\n            for(let i=0;i<Object.keys(trace).length;i++){\n                const id = Object.keys(trace)[i];\n                if((trace[id]===trace[node]-1 || trace[id]===trace[node])\n                     && g.getEdgeIdByST(id,node)!==null){\n                    if(trace[id]===0)\n                        backtracing=false;\n                    node = id;\n                    s_trace.push(node);\n                    break;\n                }\n            }\n        }\n        backtracing=true;\n        let literally_best_possible_solution = ![]+![];\n        while(backtracing && (literally_best_possible_solution+=![]+!![]+![])+![]<![]+g.nodesArray.length){\n            for(let i=0;i<Object.keys(trace).length;i++){\n                const id = Object.keys(trace)[i];\n                if( g.getEdgeIdByST(id,node)!==null\n                    && (id===CycleNode||(trace[id]<=trace[CycleNode] && !s_trace.includes(id)))){\n                    if(id===CycleNode)\n                        backtracing=false;\n                    node = id;\n                    s_trace.push(node);\n                    break;\n                }\n            }\n        }\n\n        if(s_trace[0]===s_trace[s_trace.length-1])\n            traces.push(s_trace);\n    }\n    return traces;\n};\n\n/**\n * Determine if graph is bipartite\n * @param g Graph\n * @returns {{bipartite: boolean, trace: {}}}\n * @constructor\n */\nalg.BFSBipartite = (g)=>{\n    const root = g.nodesArray[0].id;\n    const trace={};\n    trace[root]=true;\n    const result = {bipartite:true,trace};\n    BFS(g, root, ()=>{},(e)=>{\n        if(trace[e.child]===undefined)\n            trace[e.child] = !trace[e.node];\n        else if(trace[e.node]===trace[e.child]) {\n            result.bipartite=false;\n            return true;\n        }\n    });\n    return result;\n};\n\n/**\n * Count Connected Components ig graph\n * @param g Graph\n * @returns {Number} Number of connected components\n * @constructor\n */\nalg.BFSConnectedComponent = (g)=>{\n    const visited = [];\n    g.nodesArray.map(node=>visited[node.id]=false);\n    let count = 0;\n    return alg.BFSConnectedComponentHelper(g,visited,count);\n};\n\nalg.BFSConnectedComponentHelper = (g,visited,count)=>{\n    let node=null;\n    for(let i=0;i<Object.keys(visited).length;i++){\n        const id = Object.keys(visited)[i];\n        if(visited[id]===false){\n            node = id;\n            break;\n        }\n    }\n    if(node===null)return count;\n\n    BFS(g,node,e=>{visited[e.node]=true;return false;},()=>{});\n    return alg.BFSConnectedComponentHelper(g,visited,++count);\n};\n\n/**\n * Find shortest path in weighted graph\n * @param g Graph\n * @param source Source node\n * @param target Target node\n * @returns {[]} Array with id's of path nodes\n * @constructor\n */\nalg.DijkstraPath = (g, source, target)=>{\n    const trace = Dijkstra(g, source,target);\n    if(!trace)\n        return [];\n    return DijkstraTracePath(g, source, target, trace);\n};\n\n/**\n * Build minimal spanning tree\n * @param  g Graph\n * @return {[]} Array of edges of spanning tree\n */\nalg.SpanningTreeMin = g => {\n    const tree = [];\n    const visited = {};\n    let nodeId = g.nodesArray[0].id;\n    while(true){\n        visited[nodeId]=true;\n        let min_edge = null;\n        Object.keys(visited).map(node=>{\n            g.nodeNeighbourEdges[node].map(_=>{\n                const edge = g.edgesIndex[_];\n                if(visited[edge.s]!==true || visited[edge.t]!==true){\n                    if(min_edge===null || edge.weight<min_edge.weight)\n                        min_edge=edge;\n                }\n            });\n        });\n        if(min_edge===null)\n            break;\n        else{\n            if(visited[min_edge.s]!==true)\n                nodeId = min_edge.s;\n            else if(visited[min_edge.t]!==true)\n                nodeId = min_edge.t;\n            tree.push(min_edge);\n        }\n    }\n    return tree;\n};\n\n/**\n * Check if given graph have valid flow\n * Graph *should* be directed and weighed\n * @param g\n */\nalg.isFlowNetwork = g => {\n    for(let i=0; i<g.nodesArray.length; i++){\n        const node = g.nodesArray[i].id;\n        let sum = 0;\n        g.nodeTargetOf[node].map(id=>{\n            sum+=g.edgesIndex[id].weight;\n        });\n        g.nodeSourceOf[node].map(id=>{\n            sum+=g.edgesIndex[id].weight;\n        });\n        //TODO: Fix second Kirchhoff's law\n        if(sum!==0)\n            return false;\n    }\n    return true;\n};\n\nmodule.exports = alg;\n\n\n\n/** WEBPACK FOOTER **\n ** ./algorithms.js\n **/","module.exports.BFS = (g, root, onNode, onChild)=>{\n    onNode=onNode||function(){};\n    onChild=onChild||function(){};\n    const queue=[];\n    const trace={};\n\n    queue.push(root);\n    trace[root]=0;\n\n    while(queue.length){\n        const node = queue.shift();\n        if(onNode({trace,node})===true)\n            return trace;\n        for(let i=0; i<g.nodeNeighbourNodes[node].length; i++){\n            const child = g.nodeNeighbourNodes[node][i];\n            if(onChild({trace,node,child})===true)\n                return trace;\n            if(trace[child]===undefined){\n                trace[child]=trace[node]+1;\n                queue.push(child);\n            }\n        }\n    }\n    return trace;\n};\n\nmodule.exports.BFSTracePath = (g, source, target, trace)=>{\n    let c_node=target;\n    const s_trace=[];\n    s_trace.push(target);\n    while(1){\n        if(c_node===source)\n            break;\n        for(let i=0;i<g.nodeNeighbourNodes[c_node].length;i++){\n            const id = g.nodeNeighbourNodes[c_node][i];\n            if(trace[id]===trace[c_node]-1){\n                s_trace.push(id);\n                c_node=id;\n                break;\n            }\n        }\n    }\n    return s_trace.reverse();\n};\n\n\n/** WEBPACK FOOTER **\n ** ./algorithms/bfs.js\n **/","module.exports.Dijkstra = (g, source)=>{\n    const trace={};\n    const node_set=[];\n    const visited={};\n\n    g.nodesArray.map((node)=>{\n        node_set.push(node.id);\n        trace[node.id]={};\n        trace[node.id].dist=Number.POSITIVE_INFINITY;\n    });\n\n    trace[source].dist=0;\n    while(node_set.length>0){\n        let min_dist=Number.POSITIVE_INFINITY;\n        let min_node_i=0;\n        let node=null;\n        for(let i=0;i<Object.keys(trace).length;i++){\n            const id = Object.keys(trace)[i];\n            if(trace[id].dist<min_dist && visited[id]!==true){\n                min_dist=trace[id].dist;\n                node=id;\n                min_node_i=i;\n            }\n        }\n        if(node===null)\n            break;\n        visited[node]=true;\n\n        for(let i=0;i<g.nodeNeighbourNodes[node].length;i++){\n            const child = g.nodeNeighbourNodes[node][i];\n            const alt = trace[node].dist + g.edgesIndex[g.getEdgeIdByST(node,child)].weight;\n            if(alt<trace[child].dist){\n                trace[child].dist=alt;\n                trace[child].prev=node;\n            }\n        }\n    }\n    return trace;\n};\n\nmodule.exports.DijkstraTracePath = (g, source, target, trace)=>{\n    const s_trace = [];\n    let node = target;\n    s_trace.unshift(target);\n    while(trace[node].prev!==undefined){\n        s_trace.unshift(trace[node].prev);\n        node=trace[node].prev;\n    }\n    return s_trace;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./algorithms/dijkstra.js\n **/","'use strict';\nmodule.exports = function(g) {\n    const gui = new dat.GUI();\n\n    window.___ = {};\n    window.___.fileName = \"\";\n    const fileLoader = gui.add(window.___, 'fileName');\n    fileLoader.onFinishChange((fileName)=>g.loadFromFile(\"tests/\" + fileName));\n\n    const fileLoaderQuickSelect = gui.add(window.___, 'fileName', [\"flow1.json\", \"flow2.json\", \"sptree1.json\", \"Basic1.json\", \"Dijkstra1.json\"]);\n    fileLoaderQuickSelect.onFinishChange((fileName)=>g.loadFromFile(\"tests/\" + fileName));\n\n    gui.add(g, 'saveFile');\n    gui.add(g.g, 'clear');\n\n    const options = gui.addFolder(\"Display\");\n    options.add(g.camera.options.display, 'id');\n    options.add(g.camera.options.display, 'label');\n    options.add(g.camera.options.display, 'value');\n    options.add(g.camera.options.display, 'weight');\n\n    const circle_layout = gui.addFolder(\"Circle Layout\");\n    circle_layout.add(g.layout.circle, 'radius', 100, 600);\n    circle_layout.add(g, 'layoutCircle');\n\n    const grid_layout = gui.addFolder(\"Grid Layout\");\n    grid_layout.add(g.layout.grid, 'offset', 50, 500);\n    grid_layout.add(g.layout.grid, 'row', 1, 10).step(1);\n    grid_layout.add(g, 'layoutGrid');\n\n    const bipartite_layout = gui.addFolder(\"Bipartite Layout\");\n    bipartite_layout.add(g.layout.bipartite, 'partOffset', 50, 500);\n    bipartite_layout.add(g.layout.bipartite, 'elementOffset', 50, 500);\n    bipartite_layout.add(g.layout.bipartite, 'direction', ['horizontal', 'vertical']);\n    bipartite_layout.add(g, 'layoutBipartite');\n\n    const pathFinder = gui.addFolder(\"Path Finder\");\n    pathFinder.add(g, 'pathFinderFunction', [\"BFSPath\", \"DijkstraPath\"]);\n\n    const funcs = gui.addFolder(\"Functions\");\n    funcs.add(g, 'searchMinCycle');\n    funcs.add(g, 'isBipartite');\n    funcs.add(g, 'spanningTreeMin');\n    funcs.add(g, 'isFlowNetwork');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./ui.js\n **/"],"sourceRoot":""}